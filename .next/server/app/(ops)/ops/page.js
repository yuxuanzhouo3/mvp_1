(()=>{var e={};e.id=7302,e.ids=[7302],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},17236:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=t(67096),r=t(16132),i=t(37284),n=t.n(i),l=t(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["(ops)",{children:["ops",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7702)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/(ops)/ops/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,62111)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],o=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/(ops)/ops/page.tsx"],x="/(ops)/ops/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(ops)/ops/page",pathname:"/ops",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},46622:(e,s,t)=>{Promise.resolve().then(t.bind(t,95418))},95418:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(53854),r=t(34218),i=t(86665),n=t(63165),l=t(7857),c=t(93163),d=t(26115),o=t(31974),x=t(97716),m=t(78466),u=t(85096),h=t(49425),p=t(71138),j=t(34212),y=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,y.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var f=t(37546);function g(){let{user:e}=(0,i.a)(),{toast:s}=(0,o.p)(),[t,y]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[N,w]=(0,r.useState)([]),[_,Z]=(0,r.useState)(null),[k,M]=(0,r.useState)(!0),T=process.env.NEXT_PUBLIC_ADMIN_EMAILS?.split(",")||[],q=e&&T.includes(e.email||"");(0,r.useEffect)(()=>{if(!q){s({title:"Access Denied",description:"You do not have permission to access this page",variant:"destructive"});return}P()},[q]);let P=async()=>{M(!0);try{await Promise.all([S(),C(),U(),D()])}catch(e){s({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{M(!1)}},S=async()=>{let e=await fetch("/api/ops/users");if(e.ok){let s=await e.json();y(s.users)}},C=async()=>{let e=await fetch("/api/ops/payments");if(e.ok){let s=await e.json();b(s.transactions)}},U=async()=>{let e=await fetch("/api/ops/chats");if(e.ok){let s=await e.json();w(s.messages)}},D=async()=>{let e=await fetch("/api/ops/match-stats");if(e.ok){let s=await e.json();Z(s.stats)}},A=async e=>{try{let t=await fetch(`/api/ops/users/${e}/ban`,{method:"POST"});t.ok&&(s({title:"User banned",description:"User has been banned successfully"}),S())}catch(e){s({title:"Error",description:"Failed to ban user",variant:"destructive"})}},O=async e=>{try{let t=await fetch(`/api/ops/users/${e}/unban`,{method:"POST"});t.ok&&(s({title:"User unbanned",description:"User has been unbanned successfully"}),S())}catch(e){s({title:"Error",description:"Failed to unban user",variant:"destructive"})}};return q?k?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(x.Z,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{children:"Loading dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage users, monitor payments, and view analytics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t.length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.filter(e=>!e.is_banned).length," active"]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",g.filter(e=>"succeeded"===e.status).reduce((e,s)=>e+s.amount,0).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[g.filter(e=>"succeeded"===e.status).length," successful payments"]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium",children:"Chat Messages"}),a.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:N.length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[N.filter(e=>e.content.includes("AI")).length," AI responses"]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium",children:"Match Rate"}),a.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:_?`${(_.successfulMatches/_.totalMatches*100).toFixed(1)}%`:"0%"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[_?.successfulMatches||0," successful matches"]})]})]})]}),(0,a.jsxs)(c.Tabs,{defaultValue:"users",className:"space-y-6",children:[(0,a.jsxs)(c.TabsList,{children:[a.jsx(c.TabsTrigger,{value:"users",children:"Users"}),a.jsx(c.TabsTrigger,{value:"payments",children:"Payments"}),a.jsx(c.TabsTrigger,{value:"chats",children:"Chats"}),a.jsx(c.TabsTrigger,{value:"analytics",children:"Analytics"})]}),a.jsx(c.TabsContent,{value:"users",className:"space-y-4",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"User Management"}),a.jsx(n.SZ,{children:"View and manage user accounts"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium",children:e.full_name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Credits: ",e.credits," | Joined: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.is_banned&&a.jsx(d.C,{variant:"destructive",children:"Banned"}),a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>e.is_banned?O(e.id):A(e.id),children:e.is_banned?a.jsx(j.Z,{className:"h-4 w-4"}):a.jsx(v,{className:"h-4 w-4"})}),a.jsx(l.z,{variant:"outline",size:"sm",children:a.jsx(f.Z,{className:"h-4 w-4"})})]})]},e.id))})})]})}),a.jsx(c.TabsContent,{value:"payments",className:"space-y-4",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Payment Transactions"}),a.jsx(n.SZ,{children:"Monitor payment activity and revenue"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:g.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium",children:["$",e.amount," ",e.currency.toUpperCase()]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.payment_method}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),a.jsx(d.C,{variant:"succeeded"===e.status?"default":"secondary",children:e.status})]},e.id))})})]})}),a.jsx(c.TabsContent,{value:"chats",className:"space-y-4",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Recent Chat Messages"}),a.jsx(n.SZ,{children:"Monitor chat activity and AI responses"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:N.slice(0,20).map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["User: ",e.sender_id]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]}),a.jsx("p",{className:"text-sm text-gray-700",children:e.content})]},e.id))})})]})}),a.jsx(c.TabsContent,{value:"analytics",className:"space-y-4",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Matching Analytics"}),a.jsx(n.SZ,{children:"View matching performance and insights"})]}),a.jsx(n.aY,{children:_&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium",children:"Total Matches"}),a.jsx("p",{className:"text-2xl font-bold",children:_.totalMatches})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[(_.successfulMatches/_.totalMatches*100).toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Top Interests"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.topInterests.map((e,s)=>a.jsx(d.C,{variant:"outline",children:e},s))})]})]})})]})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(n.Zb,{className:"w-full max-w-md",children:(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Access Denied"}),a.jsx(n.SZ,{children:"You do not have permission to access the admin dashboard."})]})})})}},31974:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(70664);let r=a.pm},85096:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},37546:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49425:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},34212:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},71138:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},78466:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7702:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var a=t(95153);let r=(0,a.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/(ops)/ops/page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,c=l}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[3271,7085,7149],()=>t(17236));module.exports=a})();