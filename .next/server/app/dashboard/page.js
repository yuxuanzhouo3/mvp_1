(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},40243:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var t=a(67096),r=a(16132),l=a(37284),i=a.n(l),c=a(32564),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);a.d(s,n);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1618)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,53683)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,44775)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],x=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/page.tsx"],m="/dashboard/page",o={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60516:(e,s,a)=>{Promise.resolve().then(a.bind(a,32197))},4578:(e,s,a)=>{Promise.resolve().then(a.bind(a,39195)),Promise.resolve().then(a.t.bind(a,67490,23))},32197:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var t=a(53854),r=a(34218),l=a(86665),i=a(51018),c=a(63165),n=a(7857),d=a(26115),x=a(39195),m=a(31974),o=a(49425),h=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,h.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=a(41871),j=a(38954),v=a(85096),f=a(14024),y=a(67510),g=a(78466),N=a(71138),b=a(76699);function w(){let{user:e,signOut:s}=(0,l.a)(),a=(0,i.useRouter)(),{toast:h}=(0,m.p)(),[w,k]=(0,r.useState)(null),[Z,_]=(0,r.useState)([]),[C,z]=(0,r.useState)(null),[M,q]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e){a.push("/auth/login");return}P()},[e]);let P=async()=>{try{q(!0);let e=await fetch("/api/user/profile");if(e.ok){let s=await e.json();k(s.profile)}let s=await fetch("/api/user/matches?limit=5");if(s.ok){let e=await s.json();_(e.matches)}let a=await fetch("/api/user/stats");if(a.ok){let e=await a.json();z(e.stats)}}catch(e){h({title:"加载失败",description:"无法加载仪表盘数据",variant:"destructive"})}finally{q(!1)}},A=async()=>{try{await s(),a.push("/"),h({title:"已退出登录",description:"期待您的再次光临！"})}catch(e){h({title:"退出失败",description:"请稍后重试",variant:"destructive"})}},U=()=>{a.push("/matching")},I=()=>{a.push("/chat")};return M?t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"加载中..."})]})}):w?t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["欢迎回来，",w.full_name,"！"]}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"发现新的朋友，开始有趣的对话"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(n.z,{variant:"outline",onClick:I,children:[t.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"查看聊天"]}),(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>a.push("/settings"),children:[t.jsx(u,{className:"h-4 w-4 mr-2"}),"设置"]}),t.jsx(n.z,{variant:"outline",onClick:A,children:"退出登录"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center",children:[t.jsx(p.Z,{className:"h-5 w-5 mr-2"}),"个人资料"]})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(x.Avatar,{className:"h-16 w-16",children:[t.jsx(x.AvatarImage,{src:w.avatar_url}),t.jsx(x.AvatarFallback,{children:w.full_name?.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold",children:w.full_name}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.email}),w.location&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[t.jsx(j.Z,{className:"h-3 w-3 mr-1"}),w.location]})]})]}),w.bio&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.bio}),w.interests.length>0&&(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"兴趣爱好"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[w.interests.slice(0,5).map((e,s)=>t.jsx(d.C,{variant:"secondary",className:"text-xs",children:e},s)),w.interests.length>5&&(0,t.jsxs)(d.C,{variant:"outline",className:"text-xs",children:["+",w.interests.length-5]})]})]}),t.jsx(n.z,{variant:"outline",className:"w-full",onClick:()=>a.push("/profile/edit"),children:"编辑资料"})]})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center",children:[t.jsx(v.Z,{className:"h-5 w-5 mr-2"}),"积分余额"]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:w.credits}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"可用积分"}),(0,t.jsxs)(n.z,{onClick:()=>{a.push("/payment/recharge")},className:"w-full",children:[t.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"充值积分"]})]})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"快速操作"})}),(0,t.jsxs)(c.aY,{className:"space-y-3",children:[(0,t.jsxs)(n.z,{onClick:U,className:"w-full",children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"开始匹配"]}),(0,t.jsxs)(n.z,{variant:"outline",onClick:I,className:"w-full",children:[t.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"查看聊天"]}),(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>a.push("/matching/history"),className:"w-full",children:[t.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"匹配历史"]})]})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[C&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(y.Z,{className:"h-8 w-8 text-red-500 mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总匹配数"}),t.jsx("p",{className:"text-2xl font-bold",children:C.totalMatches})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(o.Z,{className:"h-8 w-8 text-blue-500 mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"消息数量"}),t.jsx("p",{className:"text-2xl font-bold",children:C.totalMessages})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(g.Z,{className:"h-8 w-8 text-green-500 mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"活跃聊天"}),t.jsx("p",{className:"text-2xl font-bold",children:C.activeChats})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(N.Z,{className:"h-8 w-8 text-purple-500 mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"资料完整度"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[C.profileCompletion,"%"]})]})]})})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{children:[(0,t.jsxs)(c.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"flex items-center",children:[t.jsx(y.Z,{className:"h-5 w-5 mr-2"}),"最近匹配"]}),t.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>a.push("/matching/history"),children:"查看全部"})]}),t.jsx(c.SZ,{children:"您最近的匹配对象"})]}),t.jsx(c.aY,{children:0===Z.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(y.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"还没有匹配记录"}),t.jsx(n.z,{onClick:U,children:"开始匹配"})]}):t.jsx("div",{className:"space-y-4",children:Z.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>a.push(`/chat/${e.id}`),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(x.Avatar,{children:[t.jsx(x.AvatarImage,{src:e.matched_user.avatar_url}),t.jsx(x.AvatarFallback,{children:e.matched_user.full_name?.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.matched_user.full_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["匹配于 ",new Date(e.matched_at).toLocaleDateString()]})]})]}),t.jsx("div",{className:"text-right",children:(0,t.jsxs)(d.C,{variant:"secondary",children:[Math.round(100*e.compatibility_score),"% 匹配"]})})]},e.id))})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center",children:[t.jsx(b.Z,{className:"h-5 w-5 mr-2"}),"活动摘要"]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"本周新匹配"}),t.jsx("span",{className:"font-medium",children:Z.filter(e=>new Date(e.matched_at)>new Date(Date.now()-6048e5)).length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"活跃天数"}),t.jsx("span",{className:"font-medium",children:Math.floor((Date.now()-new Date(w.created_at).getTime())/864e5)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"平均响应时间"}),t.jsx("span",{className:"font-medium",children:"2.3 小时"})]})]})})]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(c.Ol,{children:[t.jsx(c.ll,{children:"用户资料未找到"}),t.jsx(c.SZ,{children:"请完善您的个人资料"})]}),t.jsx(c.aY,{children:t.jsx(n.z,{onClick:()=>a.push("/profile/setup"),className:"w-full",children:"设置个人资料"})})]})})}},39195:(e,s,a)=>{"use strict";a.r(s),a.d(s,{Avatar:()=>c,AvatarFallback:()=>d,AvatarImage:()=>n});var t=a(53854),r=a(34218),l=a(49198),i=a(56370);let c=r.forwardRef(({className:e,...s},a)=>t.jsx(l.fC,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));c.displayName=l.fC.displayName;let n=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Ee,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",e),...s}));n.displayName=l.Ee.displayName;let d=r.forwardRef(({className:e,...s},a)=>t.jsx(l.NY,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));d.displayName=l.NY.displayName},31974:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(70664);let r=t.pm},76699:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},85096:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},67510:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},38954:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},49425:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},14024:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},71138:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},41871:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},78466:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},53683:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>z});var t=a(4656),r=a(74280),l=a(24596),i=a(41412);async function c(){try{let e=(0,l.cookies)(),s=(0,r.createServerClient)("https://bamratexknmqvdbalzen.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhbXJhdGV4a25tcXZkYmFsemVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTM4NzEsImV4cCI6MjA2ODA4OTg3MX0.yYa98ioJLLouUgHWITGb7U_VjNCTUuM-5NcraM7f3zA",{cookies:{get:s=>e.get(s)?.value,set(s,a,t){e.set({name:s,value:a,...t})},remove(s,a){e.set({name:s,value:"",...a})}}}),{data:{user:a},error:t}=await s.auth.getUser();if(t||!a)return null;return a}catch(e){return null}}var n=a(24353),d=a.n(n),x=a(43935),m=a(4850),o=a(95153);let h=(0,o.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/components/ui/avatar.tsx`),{__esModule:u,$$typeof:p}=h;h.default;let j=(0,o.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/components/ui/avatar.tsx#Avatar`),v=(0,o.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/components/ui/avatar.tsx#AvatarImage`),f=(0,o.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/components/ui/avatar.tsx#AvatarFallback`);var y=a(95695),g=a(28543),N=a(53111),b=a(34492),w=a(57505),k=a(83515),Z=a(19549);let _=[{name:"Dashboard",href:"/dashboard",icon:y.Z},{name:"Chat",href:"/chat",icon:g.Z},{name:"Matching",href:"/matching",icon:N.Z},{name:"Recharge",href:"/payment/recharge",icon:b.Z},{name:"Settings",href:"/dashboard/settings",icon:w.Z}],C=({user:e})=>{let s=(0,i.usePathname)(),a=async()=>{window.location.href="/auth/login"};return(0,t.jsxs)("div",{className:"flex flex-col w-64 bg-background border-r",children:[t.jsx("div",{className:"flex items-center justify-center h-16 border-b px-4",children:t.jsx("h1",{className:"text-xl font-bold text-primary",children:"PersonaLink"})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[t.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:_.map(e=>{let a=s===e.href;return(0,t.jsxs)(d(),{href:e.href,className:(0,x.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[t.jsx(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,t.jsxs)("div",{className:"border-t p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,t.jsxs)(j,{className:"h-10 w-10",children:[t.jsx(v,{src:e?.user_metadata?.avatar_url}),t.jsx(f,{children:e?.email?.charAt(0).toUpperCase()||"U"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e?.user_metadata?.full_name||e?.email}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[e?.user_metadata?.credits||0," credits"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m.z,{variant:"ghost",size:"sm",className:"w-full justify-start",asChild:!0,children:(0,t.jsxs)(d(),{href:"/dashboard/notifications",children:[t.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Notifications"]})}),(0,t.jsxs)(m.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",onClick:a,children:[t.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]})]})};async function z({children:e}){let s=await c();return s||(0,i.redirect)("/auth/login"),(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx(C,{user:s}),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"p-6",children:e})})]})}},1618:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var t=a(95153);let r=(0,t.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/page.tsx`),{__esModule:l,$$typeof:i}=r,c=r.default,n=c}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[3271,1945,5649,782,5640,4049],()=>a(40243));module.exports=t})();