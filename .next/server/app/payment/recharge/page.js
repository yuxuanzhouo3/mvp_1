(()=>{var e={};e.id=9917,e.ids=[9917],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},19534:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var a=t(67096),r=t(16132),i=t(37284),l=t.n(i),n=t(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["payment",{children:["recharge",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7769)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3102)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],x=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx"],m="/payment/recharge/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/payment/recharge/page",pathname:"/payment/recharge",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58557:(e,s,t)=>{Promise.resolve().then(t.bind(t,45608))},45608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(53854),r=t(34218),i=t(51018),l=t(42833);let n=null,c=function(){if(!n){let e="https://bamratexknmqvdbalzen.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhbXJhdGV4a25tcXZkYmFsemVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTM4NzEsImV4cCI6MjA2ODA4OTg3MX0.yYa98ioJLLouUgHWITGb7U_VjNCTUuM-5NcraM7f3zA";if(!e||!s)throw Error("Missing Supabase environment variables");n=(0,l.eI)(e,s,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}return n}();var d=t(63165),x=t(7857),m=t(26115),o=t(31974),h=t(85096),u=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,u.Z)("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);var j=t(87787);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,u.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var y=t(89398);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,u.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var f=t(2882),b=t(66802),N=t(81976),w=t(24769),k=t(78011),Z=t(24842),I=t(5393);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,u.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var _=t(97716);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,u.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function q({paymentId:e,paymentMethod:s,amount:t,paymentAddress:i,qrCodeUrl:l,account:n,network:c,onPaymentVerified:m}){let{toast:h}=(0,o.p)(),[u,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[N,q]=(0,r.useState)(""),[M,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{z();let e=setInterval(z,3e4);return()=>clearInterval(e)},[e]);let z=async()=>{try{let s=await fetch(`/api/payments/status/${e}`);if(s.ok){let e=await s.json();p(e),"completed"===e.status&&m&&m()}}catch(e){}},T=async(e,s)=>{try{await navigator.clipboard.writeText(e),h({title:"已复制",description:`${s} 已复制到剪贴板`})}catch(e){h({title:"复制失败",description:"请手动复制",variant:"destructive"})}},D=async()=>{if(!y&&!f){h({title:"验证失败",description:"请输入交易哈希或交易ID",variant:"destructive"});return}P(!0);try{let a=await fetch("/api/payments/verify-manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentId:e,paymentMethod:s,transactionHash:y,transactionId:f,amount:t,fromAddress:N})});if(a.ok)h({title:"验证成功",description:"支付已验证，积分已添加到您的账户"}),z(),m&&m();else{let e=await a.json();h({title:"验证失败",description:e.error||"请检查输入信息是否正确",variant:"destructive"})}}catch(e){h({title:"验证失败",description:"网络错误，请稍后重试",variant:"destructive"})}finally{P(!1)}};return u?.status==="completed"?a.jsx(d.Zb,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:a.jsx(d.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(Z.Z,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:"支付成功！"}),a.jsx("p",{className:"text-green-600 dark:text-green-300",children:"您的积分已添加到账户"})]})]})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[a.jsx(d.Ol,{children:(0,a.jsxs)(d.ll,{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"completed":return a.jsx(Z.Z,{className:"h-5 w-5 text-green-600"});case"pending":case"processing":return a.jsx(I.Z,{className:"h-5 w-5 text-yellow-600"});case"failed":return a.jsx(C,{className:"h-5 w-5 text-red-600"});default:return a.jsx(I.Z,{className:"h-5 w-5 text-gray-600"})}})(u?.status||"pending"),(0,a.jsxs)("span",{children:["支付状态: ",(e=>{switch(e){case"completed":return"支付成功";case"pending":return"等待支付";case"processing":return"处理中";case"failed":return"支付失败";default:return"未知状态"}})(u?.status||"pending")]})]})}),a.jsx(d.aY,{children:a.jsx("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)(x.z,{variant:"outline",size:"sm",onClick:z,disabled:j,children:[a.jsx(_.Z,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"刷新状态"]})})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[a.jsx(d.ll,{children:"支付说明"}),a.jsx(d.SZ,{children:"请按照以下步骤完成支付"})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:["usdt"===s&&i&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(k._,{className:"text-sm font-medium",children:["支付地址 (",c,")"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(w.I,{value:i,readOnly:!0,className:"font-mono text-sm"}),a.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>T(i,"支付地址"),children:a.jsx(S,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"重要提示："}),(0,a.jsxs)("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[(0,a.jsxs)("li",{children:["• 请确保使用 ",c," 网络发送 USDT"]}),(0,a.jsxs)("li",{children:["• 发送金额必须为 ",t," USDT"]}),(0,a.jsxs)("li",{children:["• 建议在备注中填写支付ID: ",e]}),a.jsx("li",{children:"• 支付确认可能需要 1-3 分钟"})]})]})]}),"alipay"===s&&l&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(k._,{className:"text-sm font-medium",children:"支付宝收款码"}),a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:l,alt:"Alipay QR Code",className:"border rounded-lg",style:{maxWidth:"200px"}})})]}),(0,a.jsxs)("div",{children:[a.jsx(k._,{className:"text-sm font-medium",children:"收款账户"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(w.I,{value:n||"",readOnly:!0,className:"font-mono text-sm"}),a.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>T(n||"","收款账户"),children:a.jsx(S,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"支付说明："}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:"• 使用支付宝扫描上方二维码"}),(0,a.jsxs)("li",{children:["• 支付金额: ",t," 元"]}),(0,a.jsxs)("li",{children:["• 请在备注中填写支付ID: ",e]}),a.jsx("li",{children:"• 支付成功后积分将自动到账"})]})]})]})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[a.jsx(d.ll,{children:"手动验证支付"}),a.jsx(d.SZ,{children:"如果您已完成支付但状态未更新，可以手动验证"})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:["usdt"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(k._,{htmlFor:"transactionHash",children:"交易哈希"}),a.jsx(w.I,{id:"transactionHash",value:y,onChange:e=>v(e.target.value),placeholder:"输入USDT交易哈希",className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx(k._,{htmlFor:"fromAddress",children:"发送地址"}),a.jsx(w.I,{id:"fromAddress",value:N,onChange:e=>q(e.target.value),placeholder:"输入您的USDT发送地址",className:"mt-1"})]})]}),"alipay"===s&&(0,a.jsxs)("div",{children:[a.jsx(k._,{htmlFor:"transactionId",children:"交易ID"}),a.jsx(w.I,{id:"transactionId",value:f,onChange:e=>b(e.target.value),placeholder:"输入支付宝交易ID",className:"mt-1"})]}),a.jsx(x.z,{onClick:D,disabled:M,className:"w-full",children:M?(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"验证中..."]}):"验证支付"})]})]})]})}let M=[{id:"starter",name:"入门包",credits:50,price:9.99,features:["50 积分","基础匹配","标准客服"]},{id:"popular",name:"热门包",credits:150,price:24.99,originalPrice:29.99,popular:!0,features:["150 积分","优先匹配","优先客服","高级筛选"]},{id:"premium",name:"高级包",credits:300,price:44.99,originalPrice:59.99,bestValue:!0,features:["300 积分","超级匹配","专属客服","无限筛选","数据分析"]},{id:"ultimate",name:"终极包",credits:500,price:69.99,originalPrice:99.99,features:["500 积分","VIP 匹配","24/7 客服","所有功能","专属活动"]}],P=[{id:"stripe",name:"信用卡/借记卡",icon:h.Z,description:"Visa, Mastercard, American Express",processingTime:"即时到账"},{id:"usdt",name:"USDT 支付",icon:p,description:"TRC20 网络",processingTime:"1-3 分钟"},{id:"alipay",name:"支付宝",icon:j.Z,description:"支付宝扫码支付",processingTime:"即时到账"}];function z(){let{toast:e}=(0,o.p)(),s=(0,i.useRouter)(),[t,l]=(0,r.useState)(null),[n,c]=(0,r.useState)(null),[h,u]=(0,r.useState)(!1),[p,j]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),Z=e=>{l(e),j(null),k(!1)},I=e=>{c(e),j(null),k(!1)},C=async()=>{if(!t||!n){e({title:"请选择套餐和支付方式",description:"请先选择积分套餐和支付方式",variant:"destructive"});return}u(!0);try{let e=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:t.id,paymentMethod:n.id,amount:t.price,credits:t.credits})});if(e.ok){let s=await e.json();"stripe"===n.id||("usdt"===n.id?(j({paymentId:s.paymentId,paymentAddress:s.paymentAddress,amount:s.amount,network:s.network,paymentMethod:"usdt"}),k(!0)):"alipay"===n.id&&(j({paymentId:s.paymentId,qrCodeUrl:s.qrCodeUrl,account:s.account,amount:s.amount,paymentMethod:"alipay"}),k(!0)))}else throw Error("支付创建失败")}catch(s){e({title:"支付失败",description:"请稍后重试",variant:"destructive"})}finally{u(!1)}},_=e=>e.bestValue?g:e.popular?y.Z:v;return w&&p?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6",children:(0,a.jsxs)(x.z,{variant:"ghost",onClick:()=>{k(!1),j(null)},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"返回选择"})]})}),a.jsx(q,{paymentId:p.paymentId,paymentMethod:p.paymentMethod,amount:p.amount,paymentAddress:p.paymentAddress,qrCodeUrl:p.qrCodeUrl,account:p.account,network:p.network,onPaymentVerified:()=>{e({title:"支付成功！",description:"积分已添加到您的账户"}),s.push("/dashboard")}})]}):(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6",children:(0,a.jsxs)(x.z,{variant:"ghost",onClick:()=>{s.push("/dashboard")},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"返回仪表板"})]})}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"积分充值"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"选择适合您的积分套餐，开始您的匹配之旅"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"选择套餐"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(e=>{let s=_(e),r=t?.id===e.id;return(0,a.jsxs)(d.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${r?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:border-gray-300"}`,onClick:()=>Z(e),children:[(0,a.jsxs)(d.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(s,{className:"h-5 w-5 text-blue-600"}),a.jsx(d.ll,{className:"text-lg",children:e.name})]}),r&&a.jsx(b.Z,{className:"h-5 w-5 text-blue-600"})]}),e.popular&&a.jsx(m.C,{className:"w-fit bg-orange-100 text-orange-800",children:"热门"}),e.bestValue&&a.jsx(m.C,{className:"w-fit bg-purple-100 text-purple-800",children:"最超值"})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.credits}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"积分"})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\xa5",e.price]}),e.originalPrice&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\xa5",e.originalPrice]})]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"一次性付款"})]}),a.jsx("ul",{className:"space-y-2",children:e.features.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(b.Z,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),e]},s))})]})]},e.id)})})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"选择支付方式"}),a.jsx("div",{className:"space-y-4",children:P.map(e=>{let s=e.icon,t=n?.id===e.id;return a.jsx(d.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${t?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:border-gray-300"}`,onClick:()=>I(e),children:a.jsx(d.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(s,{className:"h-6 w-6 text-gray-600"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"处理时间"}),a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.processingTime})]}),t&&a.jsx(b.Z,{className:"h-5 w-5 text-blue-600"})]})]})})},e.id)})}),t&&(0,a.jsxs)(d.Zb,{className:"mt-6",children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{children:"购买摘要"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"套餐"}),a.jsx("span",{className:"font-medium",children:t.name})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"积分"}),(0,a.jsxs)("span",{className:"font-medium",children:[t.credits," 积分"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"支付方式"}),a.jsx("span",{className:"font-medium",children:n?.name||"未选择"})]}),a.jsx("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-medium",children:"总计"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["\xa5",t.price]})]})}),a.jsx(x.z,{onClick:C,disabled:!n||h,className:"w-full",size:"lg",children:h?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"处理中..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.Z,{className:"h-4 w-4 mr-2"}),"立即购买"]})})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-8",children:"为什么选择我们的积分系统？"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(N.Z,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"即时到账"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"支付成功后积分立即到账，无需等待"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(b.Z,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"安全可靠"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"多种支付方式，安全加密保护"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(v,{className:"h-6 w-6 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"灵活选择"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"多种套餐选择，满足不同需求"})]})]})]})]})}function T(){let e=(0,i.useRouter)(),[s,t]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{let{data:{user:s},error:t}=await c.auth.getUser();if(t||!s){e.push("/auth/login");return}n(!0)}catch(s){e.push("/auth/login")}finally{t(!1)}};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"检查登录状态..."})]})}):l?a.jsx(z,{}):null}},24769:(e,s,t)=>{"use strict";t.d(s,{I:()=>l});var a=t(53854),r=t(34218),i=t(56370);let l=r.forwardRef(({className:e,type:s,label:t,error:r,icon:l,description:n,...c},d)=>(0,a.jsxs)("div",{className:"w-full space-y-1",children:[t&&a.jsx("label",{className:"block text-sm font-medium text-foreground",children:t}),(0,a.jsxs)("div",{className:"relative",children:[l&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l}),a.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",l?"pl-10":"",r?"border-destructive focus-visible:ring-destructive/30":"",e),ref:d,...c})]}),n&&!r&&a.jsx("p",{className:"text-xs text-muted-foreground",children:n}),r&&a.jsx("p",{className:"text-xs text-destructive",children:r})]}));l.displayName="Input"},78011:(e,s,t)=>{"use strict";t.d(s,{_:()=>x});var a=t(53854),r=t(34218),i=t(59280),l=r.forwardRef((e,s)=>(0,a.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{let t=s.target;t.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=t(82457),c=t(56370);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef(({className:e,...s},t)=>a.jsx(l,{ref:t,className:(0,c.cn)(d(),e),...s}));x.displayName=l.displayName},31974:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(70664);let r=a.pm},2882:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24842:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},66802:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},85096:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},87787:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},89398:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},7769:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var a=t(95153);let r=(0,a.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,c=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[3271,5359,7583],()=>t(19534));module.exports=a})();