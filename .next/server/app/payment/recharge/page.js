(()=>{var e={};e.id=9917,e.ids=[9917],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},19534:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>p,tree:()=>d});var r=t(67096),a=t(16132),i=t(37284),l=t.n(i),n=t(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["payment",{children:["recharge",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7769)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,62111)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],x=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx"],m="/payment/recharge/page",o={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/payment/recharge/page",pathname:"/payment/recharge",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58557:(e,s,t)=>{Promise.resolve().then(t.bind(t,6009))},6009:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(53854),a=t(86665),i=t(51018),l=t(34218),n=t(63165),c=t(7857),d=t(26115),x=t(31974),m=t(85096),o=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,o.Z)("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);var h=t(87787);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,o.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var g=t(89398);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,o.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var y=t(66802),b=t(81976);let v=[{id:"starter",name:"入门包",credits:50,price:9.99,features:["50 积分","基础匹配","标准客服"]},{id:"popular",name:"热门包",credits:150,price:24.99,originalPrice:29.99,popular:!0,features:["150 积分","优先匹配","优先客服","高级筛选"]},{id:"premium",name:"高级包",credits:300,price:44.99,originalPrice:59.99,bestValue:!0,features:["300 积分","超级匹配","专属客服","无限筛选","数据分析"]},{id:"ultimate",name:"终极包",credits:500,price:69.99,originalPrice:99.99,features:["500 积分","VIP 匹配","24/7 客服","所有功能","专属活动"]}],N=[{id:"stripe",name:"信用卡/借记卡",icon:m.Z,description:"Visa, Mastercard, American Express",processingTime:"即时到账"},{id:"usdt",name:"USDT 支付",icon:p,description:"TRC20 网络",processingTime:"1-3 分钟"},{id:"alipay",name:"支付宝",icon:h.Z,description:"支付宝扫码支付",processingTime:"即时到账"}];function f(){let{toast:e}=(0,x.p)(),[s,t]=(0,l.useState)(null),[a,i]=(0,l.useState)(null),[m,o]=(0,l.useState)(!1),p=e=>{t(e)},h=e=>{i(e)},f=async()=>{if(!s||!a){e({title:"请选择套餐和支付方式",description:"请先选择积分套餐和支付方式",variant:"destructive"});return}o(!0);try{let t=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:s.id,paymentMethod:a.id,amount:s.price,credits:s.credits})});if(t.ok){let s=await t.json();"stripe"===a.id||("usdt"===a.id?e({title:"USDT 支付",description:`请向地址 ${s.paymentAddress} 转账 ${s.amount} USDT`}):"alipay"===a.id&&e({title:"支付宝支付",description:"请扫描二维码完成支付"}))}else throw Error("支付创建失败")}catch(s){e({title:"支付失败",description:"请稍后重试",variant:"destructive"})}finally{o(!1)}},w=e=>e.bestValue?u:e.popular?g.Z:j;return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"积分充值"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"选择适合您的积分套餐，开始您的匹配之旅"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"选择套餐"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(e=>{let t=w(e),a=s?.id===e.id;return(0,r.jsxs)(n.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${a?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:border-gray-300"}`,onClick:()=>p(e),children:[(0,r.jsxs)(n.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(t,{className:"h-5 w-5 text-blue-600"}),r.jsx(n.ll,{className:"text-lg",children:e.name})]}),a&&r.jsx(y.Z,{className:"h-5 w-5 text-blue-600"})]}),e.popular&&r.jsx(d.C,{className:"w-fit bg-orange-100 text-orange-800",children:"热门"}),e.bestValue&&r.jsx(d.C,{className:"w-fit bg-purple-100 text-purple-800",children:"最超值"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.credits}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"积分"})]}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["\xa5",e.price]}),e.originalPrice&&(0,r.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\xa5",e.originalPrice]})]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"一次性付款"})]}),r.jsx("ul",{className:"space-y-2",children:e.features.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(y.Z,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),e]},s))})]})]},e.id)})})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"选择支付方式"}),r.jsx("div",{className:"space-y-4",children:N.map(e=>{let s=e.icon,t=a?.id===e.id;return r.jsx(n.Zb,{className:`cursor-pointer transition-all hover:shadow-lg ${t?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:border-gray-300"}`,onClick:()=>h(e),children:r.jsx(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(s,{className:"h-6 w-6 text-gray-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"处理时间"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.processingTime})]}),t&&r.jsx(y.Z,{className:"h-5 w-5 text-blue-600"})]})]})})},e.id)})}),s&&(0,r.jsxs)(n.Zb,{className:"mt-6",children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"购买摘要"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"套餐"}),r.jsx("span",{className:"font-medium",children:s.name})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"积分"}),(0,r.jsxs)("span",{className:"font-medium",children:[s.credits," 积分"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"支付方式"}),r.jsx("span",{className:"font-medium",children:a?.name||"未选择"})]}),r.jsx("div",{className:"border-t pt-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-medium",children:"总计"}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["\xa5",s.price]})]})}),r.jsx(c.z,{onClick:f,disabled:!a||m,className:"w-full",size:"lg",children:m?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"处理中..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"立即购买"]})})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-8",children:"为什么选择我们的积分系统？"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center p-6",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(b.Z,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"即时到账"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"支付成功后积分立即到账，无需等待"})]})}),r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center p-6",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(k,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"安全支付"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"多种安全支付方式，保护您的资金安全"})]})}),r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"text-center p-6",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(j,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"优惠活动"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"定期推出优惠活动，让您享受更多价值"})]})})]})]})]})}let k=({className:e})=>r.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});function w(){let{user:e}=(0,a.a)(),s=(0,i.useRouter)();return((0,l.useEffect)(()=>{e||s.push("/auth/login")},[e,s]),e)?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx(f,{})}):null}},31974:(e,s,t)=>{"use strict";t.d(s,{p:()=>a});var r=t(70664);let a=r.pm},66802:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},85096:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},87787:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},89398:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},7769:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/recharge/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,c=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3271,7085,7149],()=>t(19534));module.exports=r})();