(()=>{var e={};e.id=7478,e.ids=[7478],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},99260:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=t(67096),a=t(16132),i=t(37284),n=t.n(i),c=t(32564),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(s,l);let d=["",{children:["payment",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,96784)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/success/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3102)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],o=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/success/page.tsx"],p="/payment/success/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/payment/success/page",pathname:"/payment/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10532:(e,s,t)=>{Promise.resolve().then(t.bind(t,94084))},94084:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(53854),a=t(34218),i=t(51018),n=t(63165),c=t(7857),l=t(31974),d=t(24842),o=t(85096),p=t(86504),x=t(88640);function m(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),{toast:t}=(0,l.p)(),[m,u]=(0,a.useState)(null),[h,g]=(0,a.useState)(!0),y=s.get("session_id");(0,a.useEffect)(()=>{y?j(y):g(!1)},[y]);let j=async e=>{try{let s=await fetch("/api/payments/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e})});if(s.ok){let e=await s.json();u(e)}else t({title:"支付验证失败",description:"无法验证支付状态，请联系客服",variant:"destructive"})}catch(e){t({title:"验证失败",description:"网络错误，请稍后重试",variant:"destructive"})}finally{g(!1)}};return h?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"正在验证支付..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:r.jsx("div",{className:"max-w-md w-full",children:(0,r.jsxs)(n.Zb,{className:"text-center",children:[(0,r.jsxs)(n.Ol,{className:"pb-4",children:[r.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:r.jsx(d.Z,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsx(n.ll,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"支付成功！"}),r.jsx(n.SZ,{className:"text-gray-600 dark:text-gray-400",children:"您的积分已成功添加到账户"})]}),(0,r.jsxs)(n.aY,{className:"space-y-6",children:[m?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[r.jsx(o.Z,{className:"h-5 w-5 text-green-600"}),(0,r.jsxs)("span",{className:"font-semibold text-green-800 dark:text-green-200",children:["+",m.credits," 积分"]})]}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"已添加到您的账户"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"支付金额:"}),(0,r.jsxs)("span",{className:"font-medium",children:["\xa5",m.amount]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"支付方式:"}),r.jsx("span",{className:"font-medium",children:m.paymentMethod})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"交易ID:"}),(0,r.jsxs)("span",{className:"font-mono text-xs",children:[m.transactionId.slice(0,8),"..."]})]})]})]}):r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"支付已完成，积分将在几分钟内到账"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(c.z,{onClick:()=>{e.push("/matching")},className:"w-full",size:"lg",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"开始匹配"]}),(0,r.jsxs)(c.z,{onClick:()=>{e.push("/dashboard")},variant:"outline",className:"w-full",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"返回仪表板"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.jsx("p",{children:"如有问题，请联系客服"}),r.jsx("p",{children:"客服邮箱: support@personalink.com"})]})]})]})})})}},31974:(e,s,t)=>{"use strict";t.d(s,{p:()=>a});var r=t(70664);let a=r.pm},86504:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},24842:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},85096:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},96784:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/payment/success/page.tsx`),{__esModule:i,$$typeof:n}=a,c=a.default,l=c}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3271,5359,7583],()=>t(99260));module.exports=r})();