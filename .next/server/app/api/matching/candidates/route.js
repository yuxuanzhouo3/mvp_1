/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/matching/candidates/route";
exports.ids = ["app/api/matching/candidates/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmatching%2Fcandidates%2Froute&page=%2Fapi%2Fmatching%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatching%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmatching%2Fcandidates%2Froute&page=%2Fapi%2Fmatching%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatching%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_mac_guest1_Downloads_Git_mvp_projects_mvp_1_app_api_matching_candidates_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/matching/candidates/route.ts */ \"(rsc)/./app/api/matching/candidates/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/matching/candidates/route\",\n        pathname: \"/api/matching/candidates\",\n        filename: \"route\",\n        bundlePath: \"app/api/matching/candidates/route\"\n    },\n    resolvedPagePath: \"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/api/matching/candidates/route.ts\",\n    nextConfigOutput,\n    userland: _Users_mac_guest1_Downloads_Git_mvp_projects_mvp_1_app_api_matching_candidates_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/matching/candidates/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtYXRjaGluZyUyRmNhbmRpZGF0ZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1hdGNoaW5nJTJGY2FuZGlkYXRlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1hdGNoaW5nJTJGY2FuZGlkYXRlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hYy1ndWVzdDElMkZEb3dubG9hZHMlMkZHaXQlMkZtdnBfcHJvamVjdHMlMkZtdnBfMSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYWMtZ3Vlc3QxJTJGRG93bmxvYWRzJTJGR2l0JTJGbXZwX3Byb2plY3RzJTJGbXZwXzEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3VDO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGVyc29uYWxpbmsvP2JmNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL21hYy1ndWVzdDEvRG93bmxvYWRzL0dpdC9tdnBfcHJvamVjdHMvbXZwXzEvYXBwL2FwaS9tYXRjaGluZy9jYW5kaWRhdGVzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWF0Y2hpbmcvY2FuZGlkYXRlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21hdGNoaW5nL2NhbmRpZGF0ZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21hdGNoaW5nL2NhbmRpZGF0ZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbWFjLWd1ZXN0MS9Eb3dubG9hZHMvR2l0L212cF9wcm9qZWN0cy9tdnBfMS9hcHAvYXBpL21hdGNoaW5nL2NhbmRpZGF0ZXMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbWF0Y2hpbmcvY2FuZGlkYXRlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmatching%2Fcandidates%2Froute&page=%2Fapi%2Fmatching%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatching%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/matching/candidates/route.ts":
/*!**********************************************!*\
  !*** ./app/api/matching/candidates/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _lib_matching_engine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/matching/engine */ \"(rsc)/./lib/matching/engine.ts\");\n\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(\"https://bamratexknmqvdbalzen.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\nasync function GET(request) {\n    try {\n        // Get the authorization header\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No authorization header\"\n            }, {\n                status: 401\n            });\n        }\n        // Extract the token\n        const token = authHeader.replace(\"Bearer \", \"\");\n        // Verify the token and get user\n        const { data: { user }, error: authError } = await supabase.auth.getUser(token);\n        if (authError || !user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid token\"\n            }, {\n                status: 401\n            });\n        }\n        // Get query parameters\n        const { searchParams } = new URL(request.url);\n        const refresh = searchParams.get(\"refresh\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const refreshToken = refresh || Date.now().toString();\n        console.log(\"\\uD83D\\uDD0D Finding matches for user:\", user.id, \"refresh:\", refresh, \"limit:\", limit);\n        // Initialize matching engine\n        const matchingEngine = _lib_matching_engine__WEBPACK_IMPORTED_MODULE_1__.MatchingEngine.getInstance();\n        await matchingEngine.loadUserProfiles();\n        // Get user preferences\n        const { data: preferences } = await supabase.from(\"match_preferences\").select(\"*\").eq(\"user_id\", user.id).single();\n        // Find matches using AI engine\n        const matches = await matchingEngine.findMatches(user.id, limit, refreshToken, preferences);\n        console.log(\"✅ Found\", matches.length, \"matches for user:\", user.id);\n        // Transform matches to candidate format\n        const candidates = matches.map((match)=>({\n                id: match.user.id,\n                full_name: match.user.full_name,\n                avatar_url: match.user.avatar_url,\n                age: match.user.age,\n                location: match.user.location,\n                bio: match.user.bio,\n                interests: match.user.interests,\n                industry: match.user.industry,\n                communication_style: match.user.communication_style,\n                compatibility_score: match.score,\n                common_interests: match.common_interests,\n                match_reasons: match.reasons,\n                match_strength: match.match_strength,\n                conversation_starters: match.conversation_starters,\n                is_online: match.user.is_online,\n                is_premium: match.user.is_premium,\n                is_verified: match.user.is_verified,\n                last_seen: match.user.last_seen,\n                compatibility_factors: match.compatibility_factors\n            }));\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            candidates,\n            refresh_token: refreshToken,\n            total_found: matches.length,\n            user_id: user.id\n        });\n    } catch (error) {\n        console.error(\"❌ Candidates API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL21hdGNoaW5nL2NhbmRpZGF0ZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNIO0FBQ0U7QUFFdkQsTUFBTUcsV0FBV0YsbUVBQVlBLENBQzNCRywwQ0FBb0MsRUFDcENBLFFBQVFDLEdBQUcsQ0FBQ0UseUJBQXlCO0FBR2hDLGVBQWVDLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRiwrQkFBK0I7UUFDL0IsTUFBTUMsYUFBYUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFDdkMsSUFBSSxDQUFDRixZQUFZO1lBQ2YsT0FBT1Ysa0ZBQVlBLENBQUNhLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUEwQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDL0U7UUFFQSxvQkFBb0I7UUFDcEIsTUFBTUMsUUFBUU4sV0FBV08sT0FBTyxDQUFDLFdBQVc7UUFFNUMsZ0NBQWdDO1FBQ2hDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRUwsT0FBT00sU0FBUyxFQUFFLEdBQUcsTUFBTWpCLFNBQVNrQixJQUFJLENBQUNDLE9BQU8sQ0FBQ047UUFDekUsSUFBSUksYUFBYSxDQUFDRCxNQUFNO1lBQ3RCLE9BQU9uQixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWdCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNyRTtRQUVBLHVCQUF1QjtRQUN2QixNQUFNLEVBQUVRLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlmLFFBQVFnQixHQUFHO1FBQzVDLE1BQU1DLFVBQVVILGFBQWFYLEdBQUcsQ0FBQztRQUNqQyxNQUFNZSxRQUFRQyxTQUFTTCxhQUFhWCxHQUFHLENBQUMsWUFBWTtRQUNwRCxNQUFNaUIsZUFBZUgsV0FBV0ksS0FBS0MsR0FBRyxHQUFHQyxRQUFRO1FBRW5EQyxRQUFRQyxHQUFHLENBQUMsMENBQWdDZixLQUFLZ0IsRUFBRSxFQUFFLFlBQVlULFNBQVMsVUFBVUM7UUFFcEYsNkJBQTZCO1FBQzdCLE1BQU1TLGlCQUFpQmxDLGdFQUFjQSxDQUFDbUMsV0FBVztRQUNqRCxNQUFNRCxlQUFlRSxnQkFBZ0I7UUFFckMsdUJBQXVCO1FBQ3ZCLE1BQU0sRUFBRXBCLE1BQU1xQixXQUFXLEVBQUUsR0FBRyxNQUFNcEMsU0FDakNxQyxJQUFJLENBQUMscUJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsV0FBV3ZCLEtBQUtnQixFQUFFLEVBQ3JCUSxNQUFNO1FBRVQsK0JBQStCO1FBQy9CLE1BQU1DLFVBQVUsTUFBTVIsZUFBZVMsV0FBVyxDQUM5QzFCLEtBQUtnQixFQUFFLEVBQ1BSLE9BQ0FFLGNBQ0FVO1FBR0ZOLFFBQVFDLEdBQUcsQ0FBQyxXQUFXVSxRQUFRRSxNQUFNLEVBQUUscUJBQXFCM0IsS0FBS2dCLEVBQUU7UUFFbkUsd0NBQXdDO1FBQ3hDLE1BQU1ZLGFBQWFILFFBQVFJLEdBQUcsQ0FBQ0MsQ0FBQUEsUUFBVTtnQkFDdkNkLElBQUljLE1BQU05QixJQUFJLENBQUNnQixFQUFFO2dCQUNqQmUsV0FBV0QsTUFBTTlCLElBQUksQ0FBQytCLFNBQVM7Z0JBQy9CQyxZQUFZRixNQUFNOUIsSUFBSSxDQUFDZ0MsVUFBVTtnQkFDakNDLEtBQUtILE1BQU05QixJQUFJLENBQUNpQyxHQUFHO2dCQUNuQkMsVUFBVUosTUFBTTlCLElBQUksQ0FBQ2tDLFFBQVE7Z0JBQzdCQyxLQUFLTCxNQUFNOUIsSUFBSSxDQUFDbUMsR0FBRztnQkFDbkJDLFdBQVdOLE1BQU05QixJQUFJLENBQUNvQyxTQUFTO2dCQUMvQkMsVUFBVVAsTUFBTTlCLElBQUksQ0FBQ3FDLFFBQVE7Z0JBQzdCQyxxQkFBcUJSLE1BQU05QixJQUFJLENBQUNzQyxtQkFBbUI7Z0JBQ25EQyxxQkFBcUJULE1BQU1VLEtBQUs7Z0JBQ2hDQyxrQkFBa0JYLE1BQU1XLGdCQUFnQjtnQkFDeENDLGVBQWVaLE1BQU1hLE9BQU87Z0JBQzVCQyxnQkFBZ0JkLE1BQU1jLGNBQWM7Z0JBQ3BDQyx1QkFBdUJmLE1BQU1lLHFCQUFxQjtnQkFDbERDLFdBQVdoQixNQUFNOUIsSUFBSSxDQUFDOEMsU0FBUztnQkFDL0JDLFlBQVlqQixNQUFNOUIsSUFBSSxDQUFDK0MsVUFBVTtnQkFDakNDLGFBQWFsQixNQUFNOUIsSUFBSSxDQUFDZ0QsV0FBVztnQkFDbkNDLFdBQVduQixNQUFNOUIsSUFBSSxDQUFDaUQsU0FBUztnQkFDL0JDLHVCQUF1QnBCLE1BQU1vQixxQkFBcUI7WUFDcEQ7UUFFQSxPQUFPckUsa0ZBQVlBLENBQUNhLElBQUksQ0FBQztZQUN2QmtDO1lBQ0F1QixlQUFlekM7WUFDZjBDLGFBQWEzQixRQUFRRSxNQUFNO1lBQzNCMEIsU0FBU3JELEtBQUtnQixFQUFFO1FBQ2xCO0lBQ0YsRUFBRSxPQUFPckIsT0FBTztRQUNkbUIsUUFBUW5CLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9kLGtGQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGVyc29uYWxpbmsvLi9hcHAvYXBpL21hdGNoaW5nL2NhbmRpZGF0ZXMvcm91dGUudHM/MjE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IE1hdGNoaW5nRW5naW5lIH0gZnJvbSAnQC9saWIvbWF0Y2hpbmcvZW5naW5lJztcblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXG4pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBhdXRob3JpemF0aW9uIGhlYWRlclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XG4gICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIGF1dGhvcml6YXRpb24gaGVhZGVyJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgdGhlIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XG4gICAgXG4gICAgLy8gVmVyaWZ5IHRoZSB0b2tlbiBhbmQgZ2V0IHVzZXJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIodG9rZW4pO1xuICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCByZWZyZXNoID0gc2VhcmNoUGFyYW1zLmdldCgncmVmcmVzaCcpO1xuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSB8fCAnMTAnKTtcbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZWZyZXNoIHx8IERhdGUubm93KCkudG9TdHJpbmcoKTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEZpbmRpbmcgbWF0Y2hlcyBmb3IgdXNlcjonLCB1c2VyLmlkLCAncmVmcmVzaDonLCByZWZyZXNoLCAnbGltaXQ6JywgbGltaXQpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBtYXRjaGluZyBlbmdpbmVcbiAgICBjb25zdCBtYXRjaGluZ0VuZ2luZSA9IE1hdGNoaW5nRW5naW5lLmdldEluc3RhbmNlKCk7XG4gICAgYXdhaXQgbWF0Y2hpbmdFbmdpbmUubG9hZFVzZXJQcm9maWxlcygpO1xuXG4gICAgLy8gR2V0IHVzZXIgcHJlZmVyZW5jZXNcbiAgICBjb25zdCB7IGRhdGE6IHByZWZlcmVuY2VzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21hdGNoX3ByZWZlcmVuY2VzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIC8vIEZpbmQgbWF0Y2hlcyB1c2luZyBBSSBlbmdpbmVcbiAgICBjb25zdCBtYXRjaGVzID0gYXdhaXQgbWF0Y2hpbmdFbmdpbmUuZmluZE1hdGNoZXMoXG4gICAgICB1c2VyLmlkLCBcbiAgICAgIGxpbWl0LCBcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIHByZWZlcmVuY2VzXG4gICAgKTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgRm91bmQnLCBtYXRjaGVzLmxlbmd0aCwgJ21hdGNoZXMgZm9yIHVzZXI6JywgdXNlci5pZCk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gbWF0Y2hlcyB0byBjYW5kaWRhdGUgZm9ybWF0XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IG1hdGNoZXMubWFwKG1hdGNoID0+ICh7XG4gICAgICBpZDogbWF0Y2gudXNlci5pZCxcbiAgICAgIGZ1bGxfbmFtZTogbWF0Y2gudXNlci5mdWxsX25hbWUsXG4gICAgICBhdmF0YXJfdXJsOiBtYXRjaC51c2VyLmF2YXRhcl91cmwsXG4gICAgICBhZ2U6IG1hdGNoLnVzZXIuYWdlLFxuICAgICAgbG9jYXRpb246IG1hdGNoLnVzZXIubG9jYXRpb24sXG4gICAgICBiaW86IG1hdGNoLnVzZXIuYmlvLFxuICAgICAgaW50ZXJlc3RzOiBtYXRjaC51c2VyLmludGVyZXN0cyxcbiAgICAgIGluZHVzdHJ5OiBtYXRjaC51c2VyLmluZHVzdHJ5LFxuICAgICAgY29tbXVuaWNhdGlvbl9zdHlsZTogbWF0Y2gudXNlci5jb21tdW5pY2F0aW9uX3N0eWxlLFxuICAgICAgY29tcGF0aWJpbGl0eV9zY29yZTogbWF0Y2guc2NvcmUsXG4gICAgICBjb21tb25faW50ZXJlc3RzOiBtYXRjaC5jb21tb25faW50ZXJlc3RzLFxuICAgICAgbWF0Y2hfcmVhc29uczogbWF0Y2gucmVhc29ucyxcbiAgICAgIG1hdGNoX3N0cmVuZ3RoOiBtYXRjaC5tYXRjaF9zdHJlbmd0aCxcbiAgICAgIGNvbnZlcnNhdGlvbl9zdGFydGVyczogbWF0Y2guY29udmVyc2F0aW9uX3N0YXJ0ZXJzLFxuICAgICAgaXNfb25saW5lOiBtYXRjaC51c2VyLmlzX29ubGluZSxcbiAgICAgIGlzX3ByZW1pdW06IG1hdGNoLnVzZXIuaXNfcHJlbWl1bSxcbiAgICAgIGlzX3ZlcmlmaWVkOiBtYXRjaC51c2VyLmlzX3ZlcmlmaWVkLFxuICAgICAgbGFzdF9zZWVuOiBtYXRjaC51c2VyLmxhc3Rfc2VlbixcbiAgICAgIGNvbXBhdGliaWxpdHlfZmFjdG9yczogbWF0Y2guY29tcGF0aWJpbGl0eV9mYWN0b3JzXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBjYW5kaWRhdGVzLFxuICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgdG90YWxfZm91bmQ6IG1hdGNoZXMubGVuZ3RoLFxuICAgICAgdXNlcl9pZDogdXNlci5pZFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYW5kaWRhdGVzIEFQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsIk1hdGNoaW5nRW5naW5lIiwic3VwYWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkdFVCIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInRva2VuIiwicmVwbGFjZSIsImRhdGEiLCJ1c2VyIiwiYXV0aEVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJyZWZyZXNoIiwibGltaXQiLCJwYXJzZUludCIsInJlZnJlc2hUb2tlbiIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJpZCIsIm1hdGNoaW5nRW5naW5lIiwiZ2V0SW5zdGFuY2UiLCJsb2FkVXNlclByb2ZpbGVzIiwicHJlZmVyZW5jZXMiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJtYXRjaGVzIiwiZmluZE1hdGNoZXMiLCJsZW5ndGgiLCJjYW5kaWRhdGVzIiwibWFwIiwibWF0Y2giLCJmdWxsX25hbWUiLCJhdmF0YXJfdXJsIiwiYWdlIiwibG9jYXRpb24iLCJiaW8iLCJpbnRlcmVzdHMiLCJpbmR1c3RyeSIsImNvbW11bmljYXRpb25fc3R5bGUiLCJjb21wYXRpYmlsaXR5X3Njb3JlIiwic2NvcmUiLCJjb21tb25faW50ZXJlc3RzIiwibWF0Y2hfcmVhc29ucyIsInJlYXNvbnMiLCJtYXRjaF9zdHJlbmd0aCIsImNvbnZlcnNhdGlvbl9zdGFydGVycyIsImlzX29ubGluZSIsImlzX3ByZW1pdW0iLCJpc192ZXJpZmllZCIsImxhc3Rfc2VlbiIsImNvbXBhdGliaWxpdHlfZmFjdG9ycyIsInJlZnJlc2hfdG9rZW4iLCJ0b3RhbF9mb3VuZCIsInVzZXJfaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/matching/candidates/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/matching/engine.ts":
/*!********************************!*\
  !*** ./lib/matching/engine.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MatchingEngine: () => (/* binding */ MatchingEngine)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://bamratexknmqvdbalzen.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\nclass MatchingEngine {\n    static getInstance() {\n        if (!MatchingEngine.instance) {\n            MatchingEngine.instance = new MatchingEngine();\n        }\n        return MatchingEngine.instance;\n    }\n    async loadUserProfiles() {\n        const { data: profiles, error } = await supabase.from(\"profiles\").select(\"*\");\n        if (error) {\n            console.error(\"Error loading user profiles:\", error);\n            return;\n        }\n        this.userProfiles.clear();\n        profiles?.forEach((profile)=>{\n            this.userProfiles.set(profile.id, profile);\n        });\n    }\n    async findMatches(userId, limit = 10, refreshToken, preferences) {\n        const userProfile = this.userProfiles.get(userId);\n        if (!userProfile) {\n            throw new Error(\"User profile not found\");\n        }\n        const matches = [];\n        const excludedUsers = await this.getExcludedUsers(userId);\n        for (const [otherUserId, otherProfile] of Array.from(this.userProfiles.entries())){\n            if (otherUserId === userId || excludedUsers.has(otherUserId)) continue;\n            // Apply preference filters\n            if (preferences && !this.passesPreferenceFilters(otherProfile, preferences)) {\n                continue;\n            }\n            const score = this.calculateCompatibilityScore(userProfile, otherProfile);\n            const reasons = this.generateMatchReasons(userProfile, otherProfile);\n            const compatibilityFactors = this.calculateCompatibilityFactors(userProfile, otherProfile);\n            const commonInterests = this.findCommonInterests(userProfile, otherProfile);\n            const matchStrength = this.determineMatchStrength(score);\n            const conversationStarters = this.generateConversationStarters(userProfile, otherProfile);\n            matches.push({\n                user: otherProfile,\n                score,\n                reasons,\n                compatibility_factors: compatibilityFactors,\n                common_interests: commonInterests,\n                match_strength: matchStrength,\n                conversation_starters: conversationStarters\n            });\n        }\n        // Apply refresh token for variety\n        let sortedMatches = matches.sort((a, b)=>b.score - a.score);\n        if (refreshToken) {\n            sortedMatches = this.applyRefreshVariety(sortedMatches, refreshToken);\n        }\n        return sortedMatches.slice(0, limit);\n    }\n    async getExcludedUsers(userId) {\n        const excluded = new Set();\n        // Get existing matches\n        const { data: matches } = await supabase.from(\"matches\").select(\"user1_id, user2_id\").or(`user1_id.eq.${userId},user2_id.eq.${userId}`);\n        matches?.forEach((match)=>{\n            if (match.user1_id === userId) {\n                excluded.add(match.user2_id);\n            } else {\n                excluded.add(match.user1_id);\n            }\n        });\n        return excluded;\n    }\n    passesPreferenceFilters(profile, preferences) {\n        // Age filter\n        if (preferences.age_min && profile.age && profile.age < preferences.age_min) return false;\n        if (preferences.age_max && profile.age && profile.age > preferences.age_max) return false;\n        // Gender preference\n        if (preferences.gender_preference && preferences.gender_preference.length > 0) {\n            if (!profile.gender || !preferences.gender_preference.includes(profile.gender)) {\n                return false;\n            }\n        }\n        // Location filter (simplified - would need proper geolocation calculation)\n        if (preferences.location_radius && profile.location) {\n        // This would need proper distance calculation\n        // For now, just check if location exists\n        }\n        // Deal breakers\n        if (preferences.deal_breakers && preferences.deal_breakers.length > 0) {\n            const profileInterests = profile.interests.map((i)=>i.toLowerCase());\n            const hasDealBreaker = preferences.deal_breakers.some((dealBreaker)=>profileInterests.includes(dealBreaker.toLowerCase()));\n            if (hasDealBreaker) return false;\n        }\n        return true;\n    }\n    calculateCompatibilityScore(user1, user2) {\n        const factors = this.calculateCompatibilityFactors(user1, user2);\n        // Enhanced weighted scoring with AI considerations\n        const weights = {\n            interests: 0.25,\n            personality: 0.25,\n            location: 0.15,\n            industry: 0.10,\n            communication: 0.15,\n            activity: 0.05,\n            values: 0.05\n        };\n        let totalScore = 0;\n        let totalWeight = 0;\n        Object.entries(factors).forEach(([factor, score])=>{\n            const weight = weights[factor] || 0;\n            totalScore += score * weight;\n            totalWeight += weight;\n        });\n        // Apply AI enhancement factors\n        const aiEnhancement = this.calculateAIEnhancement(user1, user2);\n        return totalWeight > 0 ? totalScore / totalWeight * aiEnhancement : 0;\n    }\n    calculateAIEnhancement(user1, user2) {\n        let enhancement = 1.0;\n        // Online activity bonus\n        if (user2.is_online) enhancement *= 1.1;\n        // Premium user bonus\n        if (user2.is_premium) enhancement *= 1.05;\n        // Verified user bonus\n        if (user2.is_verified) enhancement *= 1.03;\n        // Recent activity bonus\n        if (user2.last_seen) {\n            const lastSeen = new Date(user2.last_seen);\n            const now = new Date();\n            const hoursSinceLastSeen = (now.getTime() - lastSeen.getTime()) / (1000 * 60 * 60);\n            if (hoursSinceLastSeen < 24) enhancement *= 1.02;\n        }\n        return Math.min(enhancement, 1.2); // Cap at 20% enhancement\n    }\n    calculateCompatibilityFactors(user1, user2) {\n        return {\n            interests: this.calculateInterestsCompatibility(user1, user2),\n            personality: this.calculatePersonalityCompatibility(user1, user2),\n            location: this.calculateLocationCompatibility(user1, user2),\n            industry: this.calculateIndustryCompatibility(user1, user2),\n            communication: this.calculateCommunicationCompatibility(user1, user2),\n            activity: this.calculateActivityCompatibility(user1, user2),\n            values: this.calculateValuesCompatibility(user1, user2)\n        };\n    }\n    calculateInterestsCompatibility(user1, user2) {\n        const interests1 = new Set(user1.interests.map((i)=>i.toLowerCase()));\n        const interests2 = new Set(user2.interests.map((i)=>i.toLowerCase()));\n        // Calculate direct interest overlap\n        const interests1Array = Array.from(interests1);\n        const interests2Array = Array.from(interests2);\n        const intersection = new Set(interests1Array.filter((x)=>interests2.has(x)));\n        const union = new Set([\n            ...interests1Array,\n            ...interests2Array\n        ]);\n        let directScore = union.size > 0 ? intersection.size / union.size : 0;\n        // Calculate category-based compatibility\n        let categoryScore = 0;\n        let categoryMatches = 0;\n        Object.entries(this.interestCategories).forEach(([category, keywords])=>{\n            const user1InCategory = keywords.some((keyword)=>interests1Array.some((interest)=>interest.includes(keyword)));\n            const user2InCategory = keywords.some((keyword)=>interests2Array.some((interest)=>interest.includes(keyword)));\n            if (user1InCategory && user2InCategory) {\n                categoryScore += 1;\n                categoryMatches += 1;\n            } else if (user1InCategory || user2InCategory) {\n                categoryMatches += 1;\n            }\n        });\n        const categoryCompatibility = categoryMatches > 0 ? categoryScore / categoryMatches : 0;\n        // Weighted combination\n        return directScore * 0.7 + categoryCompatibility * 0.3;\n    }\n    calculatePersonalityCompatibility(user1, user2) {\n        const traits1 = user1.personality_traits || {};\n        const traits2 = user2.personality_traits || {};\n        // Calculate similarity for common personality traits\n        const commonTraits = Object.keys(traits1).filter((trait)=>traits2.hasOwnProperty(trait));\n        if (commonTraits.length === 0) {\n            // Fallback to bio analysis\n            return this.analyzePersonalityFromBio(user1, user2);\n        }\n        let totalSimilarity = 0;\n        for (const trait of commonTraits){\n            const value1 = traits1[trait];\n            const value2 = traits2[trait];\n            // Normalize values to 0-1 range and calculate similarity\n            const similarity = 1 - Math.abs(value1 - value2) / Math.max(value1, value2, 1);\n            totalSimilarity += similarity;\n        }\n        return totalSimilarity / commonTraits.length;\n    }\n    analyzePersonalityFromBio(user1, user2) {\n        const bio1 = (user1.bio || \"\").toLowerCase();\n        const bio2 = (user2.bio || \"\").toLowerCase();\n        let compatibility = 0.5; // Neutral base score\n        // Analyze personality keywords\n        Object.entries(this.personalityKeywords).forEach(([trait, keywords])=>{\n            const user1HasTrait = keywords.some((keyword)=>bio1.includes(keyword));\n            const user2HasTrait = keywords.some((keyword)=>bio2.includes(keyword));\n            if (user1HasTrait && user2HasTrait) {\n                compatibility += 0.1; // Bonus for shared traits\n            } else if (user1HasTrait || user2HasTrait) {\n                // Some traits complement each other\n                if (trait === \"extrovert\" && this.hasTrait(bio2, this.personalityKeywords.introvert)) {\n                    compatibility += 0.05; // Extrovert-Introvert can be complementary\n                } else if (trait === \"analytical\" && this.hasTrait(bio2, this.personalityKeywords.creative)) {\n                    compatibility += 0.05; // Analytical-Creative can be complementary\n                }\n            }\n        });\n        return Math.min(compatibility, 1.0);\n    }\n    hasTrait(bio, keywords) {\n        return keywords.some((keyword)=>bio.includes(keyword));\n    }\n    calculateLocationCompatibility(user1, user2) {\n        if (!user1.location || !user2.location) return 0.5;\n        // Simple location matching (would be enhanced with proper geolocation)\n        const location1 = user1.location.toLowerCase();\n        const location2 = user2.location.toLowerCase();\n        // Same city/region\n        if (location1 === location2) return 1.0;\n        // Same country\n        const country1 = location1.split(\",\").pop()?.trim() || \"\";\n        const country2 = location2.split(\",\").pop()?.trim() || \"\";\n        if (country1 === country2 && country1) return 0.8;\n        // Same continent (simplified)\n        const continents = {\n            north_america: [\n                \"united states\",\n                \"canada\",\n                \"mexico\"\n            ],\n            europe: [\n                \"uk\",\n                \"germany\",\n                \"france\",\n                \"spain\",\n                \"italy\"\n            ],\n            asia: [\n                \"china\",\n                \"japan\",\n                \"korea\",\n                \"india\",\n                \"singapore\"\n            ]\n        };\n        for (const [continent, countries] of Object.entries(continents)){\n            if (countries.some((c)=>location1.includes(c)) && countries.some((c)=>location2.includes(c))) {\n                return 0.6;\n            }\n        }\n        return 0.3; // Different continents\n    }\n    calculateIndustryCompatibility(user1, user2) {\n        if (!user1.industry || !user2.industry) return 0.5;\n        // Enhanced industry compatibility matrix\n        const industryGroups = {\n            tech: [\n                \"software\",\n                \"technology\",\n                \"it\",\n                \"engineering\",\n                \"data science\",\n                \"ai\",\n                \"machine learning\"\n            ],\n            finance: [\n                \"finance\",\n                \"banking\",\n                \"investment\",\n                \"accounting\",\n                \"consulting\",\n                \"economics\"\n            ],\n            healthcare: [\n                \"healthcare\",\n                \"medical\",\n                \"nursing\",\n                \"pharmacy\",\n                \"therapy\",\n                \"wellness\"\n            ],\n            education: [\n                \"education\",\n                \"teaching\",\n                \"academic\",\n                \"research\",\n                \"training\",\n                \"learning\"\n            ],\n            creative: [\n                \"design\",\n                \"art\",\n                \"marketing\",\n                \"media\",\n                \"entertainment\",\n                \"advertising\",\n                \"content\"\n            ],\n            business: [\n                \"entrepreneurship\",\n                \"startups\",\n                \"management\",\n                \"sales\",\n                \"operations\"\n            ],\n            legal: [\n                \"law\",\n                \"legal\",\n                \"compliance\",\n                \"regulatory\"\n            ],\n            nonprofit: [\n                \"nonprofit\",\n                \"charity\",\n                \"social work\",\n                \"volunteering\",\n                \"community\"\n            ]\n        };\n        const findIndustryGroup = (industry)=>{\n            const lowerIndustry = industry.toLowerCase();\n            for (const [group, keywords] of Object.entries(industryGroups)){\n                if (keywords.some((keyword)=>lowerIndustry.includes(keyword))) {\n                    return group;\n                }\n            }\n            return \"other\";\n        };\n        const group1 = findIndustryGroup(user1.industry);\n        const group2 = findIndustryGroup(user2.industry);\n        if (group1 === group2) return 1.0;\n        // Complementary industries\n        const complementaryPairs = [\n            [\n                \"tech\",\n                \"creative\"\n            ],\n            [\n                \"finance\",\n                \"tech\"\n            ],\n            [\n                \"healthcare\",\n                \"tech\"\n            ],\n            [\n                \"education\",\n                \"tech\"\n            ]\n        ];\n        if (complementaryPairs.some((pair)=>pair[0] === group1 && pair[1] === group2 || pair[0] === group2 && pair[1] === group1)) {\n            return 0.7;\n        }\n        return 0.3; // Different industries\n    }\n    calculateCommunicationCompatibility(user1, user2) {\n        const styles = [\n            \"casual\",\n            \"formal\",\n            \"professional\",\n            \"friendly\",\n            \"direct\",\n            \"thoughtful\"\n        ];\n        const style1 = (user1.communication_style || \"casual\").toLowerCase();\n        const style2 = (user2.communication_style || \"casual\").toLowerCase();\n        if (style1 === style2) return 1.0;\n        // Complementary communication styles\n        const complementaryPairs = [\n            [\n                \"casual\",\n                \"friendly\"\n            ],\n            [\n                \"formal\",\n                \"professional\"\n            ],\n            [\n                \"direct\",\n                \"thoughtful\"\n            ]\n        ];\n        if (complementaryPairs.some((pair)=>pair[0] === style1 && pair[1] === style2 || pair[0] === style2 && pair[1] === style1)) {\n            return 0.8;\n        }\n        return 0.5; // Neutral compatibility\n    }\n    calculateActivityCompatibility(user1, user2) {\n        // Consider online status and activity patterns\n        let score = 0.5;\n        if (user2.is_online) score += 0.2;\n        if (user2.last_seen) {\n            const lastSeen = new Date(user2.last_seen);\n            const now = new Date();\n            const hoursSinceLastSeen = (now.getTime() - lastSeen.getTime()) / (1000 * 60 * 60);\n            if (hoursSinceLastSeen < 1) score += 0.2; // Very recent\n            else if (hoursSinceLastSeen < 24) score += 0.1; // Today\n            else if (hoursSinceLastSeen < 168) score += 0.05; // This week\n        }\n        return Math.min(score, 1.0);\n    }\n    calculateValuesCompatibility(user1, user2) {\n        // Analyze values from bio and interests\n        const bio1 = (user1.bio || \"\").toLowerCase();\n        const bio2 = (user2.bio || \"\").toLowerCase();\n        const valueKeywords = {\n            sustainability: [\n                \"environmental\",\n                \"sustainable\",\n                \"green\",\n                \"eco-friendly\",\n                \"climate\"\n            ],\n            community: [\n                \"community\",\n                \"volunteering\",\n                \"helping\",\n                \"charity\",\n                \"social\"\n            ],\n            learning: [\n                \"learning\",\n                \"education\",\n                \"growth\",\n                \"development\",\n                \"improvement\"\n            ],\n            creativity: [\n                \"creative\",\n                \"artistic\",\n                \"innovative\",\n                \"original\",\n                \"expressive\"\n            ],\n            health: [\n                \"fitness\",\n                \"wellness\",\n                \"healthy\",\n                \"exercise\",\n                \"yoga\"\n            ],\n            adventure: [\n                \"adventure\",\n                \"exploring\",\n                \"travel\",\n                \"experiences\",\n                \"discovery\"\n            ]\n        };\n        let sharedValues = 0;\n        let totalValues = 0;\n        Object.entries(valueKeywords).forEach(([value, keywords])=>{\n            const user1HasValue = keywords.some((keyword)=>bio1.includes(keyword));\n            const user2HasValue = keywords.some((keyword)=>bio2.includes(keyword));\n            if (user1HasValue || user2HasValue) {\n                totalValues++;\n                if (user1HasValue && user2HasValue) {\n                    sharedValues++;\n                }\n            }\n        });\n        return totalValues > 0 ? sharedValues / totalValues : 0.5;\n    }\n    findCommonInterests(user1, user2) {\n        const interests1 = new Set(user1.interests.map((i)=>i.toLowerCase()));\n        const interests2 = new Set(user2.interests.map((i)=>i.toLowerCase()));\n        return Array.from(interests1).filter((interest)=>interests2.has(interest));\n    }\n    determineMatchStrength(score) {\n        if (score >= 0.8) return \"high\";\n        if (score >= 0.6) return \"medium\";\n        return \"low\";\n    }\n    generateConversationStarters(user1, user2) {\n        const starters = [];\n        const commonInterests = this.findCommonInterests(user1, user2);\n        if (commonInterests.length > 0) {\n            const interest = commonInterests[0];\n            starters.push(`I noticed we both love ${interest}! What's your favorite thing about it?`);\n            starters.push(`Hey! I see you're into ${interest} too. Any recommendations?`);\n        }\n        if (user2.industry) {\n            starters.push(`Your work in ${user2.industry} sounds fascinating! What's the most interesting project you've worked on?`);\n        }\n        if (user2.location) {\n            starters.push(`I've always wanted to visit ${user2.location}! What's the best thing about living there?`);\n        }\n        if (user2.bio) {\n            const bioWords = user2.bio.split(\" \").slice(0, 5).join(\" \");\n            starters.push(`Your bio mentions \"${bioWords}...\" - that sounds really interesting!`);\n        }\n        // Fallback starters\n        if (starters.length === 0) {\n            starters.push(\"Hi! I'd love to learn more about your interests and experiences.\");\n            starters.push(\"Hey there! What's something exciting you've been working on lately?\");\n        }\n        return starters.slice(0, 3); // Return top 3 starters\n    }\n    applyRefreshVariety(matches, refreshToken) {\n        // Use refresh token to shuffle and provide variety\n        const seed = this.hashString(refreshToken);\n        const shuffled = [\n            ...matches\n        ];\n        // Fisher-Yates shuffle with seed\n        for(let i = shuffled.length - 1; i > 0; i--){\n            const j = (seed + i) % (i + 1);\n            [shuffled[i], shuffled[j]] = [\n                shuffled[j],\n                shuffled[i]\n            ];\n        }\n        // Boost some lower-scored matches for variety\n        const boosted = shuffled.map((match, index)=>{\n            if (index > 2 && match.score < 0.7) {\n                return {\n                    ...match,\n                    score: match.score * 1.1,\n                    reasons: [\n                        ...match.reasons,\n                        \"Fresh perspective for variety\"\n                    ]\n                };\n            }\n            return match;\n        });\n        return boosted.sort((a, b)=>b.score - a.score);\n    }\n    hashString(str) {\n        let hash = 0;\n        for(let i = 0; i < str.length; i++){\n            const char = str.charCodeAt(i);\n            hash = (hash << 5) - hash + char;\n            hash = hash & hash; // Convert to 32-bit integer\n        }\n        return Math.abs(hash);\n    }\n    generateMatchReasons(user1, user2) {\n        const reasons = [];\n        const factors = this.calculateCompatibilityFactors(user1, user2);\n        // Interest-based reasons\n        const commonInterests = this.findCommonInterests(user1, user2);\n        if (commonInterests.length >= 2) {\n            reasons.push(`You both share interests in ${commonInterests.slice(0, 2).join(\" and \")}`);\n        } else if (commonInterests.length === 1) {\n            reasons.push(`You both love ${commonInterests[0]}`);\n        }\n        // Industry compatibility\n        if (factors.industry > 0.7) {\n            reasons.push(\"Professional alignment in your fields\");\n        }\n        // Communication style\n        if (factors.communication > 0.8) {\n            reasons.push(\"Compatible communication styles\");\n        }\n        // Location proximity\n        if (factors.location > 0.8) {\n            reasons.push(\"Located in the same area\");\n        }\n        // Activity level\n        if (user2.is_online) {\n            reasons.push(\"Currently active and online\");\n        }\n        // Premium/verified status\n        if (user2.is_premium) {\n            reasons.push(\"Premium member with enhanced features\");\n        }\n        if (user2.is_verified) {\n            reasons.push(\"Verified profile for added trust\");\n        }\n        // Fallback reasons\n        if (reasons.length === 0) {\n            reasons.push(\"Great potential for meaningful connection\");\n            reasons.push(\"Complementary personality traits\");\n        }\n        return reasons.slice(0, 3); // Return top 3 reasons\n    }\n    async saveMatch(userId, matchedUserId, score, reasons) {\n        const { error } = await supabase.from(\"matches\").insert({\n            user1_id: userId,\n            user2_id: matchedUserId,\n            status: \"pending\",\n            user1_liked_at: new Date().toISOString()\n        });\n        if (error) {\n            console.error(\"Error saving match:\", error);\n            throw error;\n        }\n    }\n    constructor(){\n        this.userProfiles = new Map();\n        this.personalityKeywords = {\n            extrovert: [\n                \"outgoing\",\n                \"social\",\n                \"energetic\",\n                \"talkative\",\n                \"friendly\"\n            ],\n            introvert: [\n                \"thoughtful\",\n                \"reserved\",\n                \"quiet\",\n                \"reflective\",\n                \"independent\"\n            ],\n            analytical: [\n                \"logical\",\n                \"data-driven\",\n                \"systematic\",\n                \"precise\",\n                \"methodical\"\n            ],\n            creative: [\n                \"artistic\",\n                \"imaginative\",\n                \"innovative\",\n                \"expressive\",\n                \"original\"\n            ],\n            empathetic: [\n                \"caring\",\n                \"understanding\",\n                \"compassionate\",\n                \"supportive\",\n                \"kind\"\n            ],\n            ambitious: [\n                \"driven\",\n                \"goal-oriented\",\n                \"motivated\",\n                \"determined\",\n                \"focused\"\n            ],\n            adventurous: [\n                \"explorer\",\n                \"risk-taker\",\n                \"spontaneous\",\n                \"curious\",\n                \"bold\"\n            ],\n            practical: [\n                \"realistic\",\n                \"pragmatic\",\n                \"down-to-earth\",\n                \"sensible\",\n                \"reliable\"\n            ]\n        };\n        this.interestCategories = {\n            technology: [\n                \"programming\",\n                \"ai\",\n                \"machine learning\",\n                \"software\",\n                \"tech\",\n                \"coding\",\n                \"data science\"\n            ],\n            sports: [\n                \"running\",\n                \"fitness\",\n                \"gym\",\n                \"yoga\",\n                \"swimming\",\n                \"tennis\",\n                \"basketball\",\n                \"soccer\"\n            ],\n            arts: [\n                \"painting\",\n                \"photography\",\n                \"music\",\n                \"dance\",\n                \"theater\",\n                \"writing\",\n                \"poetry\"\n            ],\n            travel: [\n                \"backpacking\",\n                \"exploring\",\n                \"adventure\",\n                \"culture\",\n                \"languages\",\n                \"photography\"\n            ],\n            food: [\n                \"cooking\",\n                \"baking\",\n                \"restaurants\",\n                \"wine\",\n                \"coffee\",\n                \"culinary\"\n            ],\n            nature: [\n                \"hiking\",\n                \"camping\",\n                \"gardening\",\n                \"environmental\",\n                \"outdoors\",\n                \"wildlife\"\n            ],\n            business: [\n                \"entrepreneurship\",\n                \"startups\",\n                \"investing\",\n                \"marketing\",\n                \"finance\"\n            ],\n            education: [\n                \"reading\",\n                \"learning\",\n                \"teaching\",\n                \"research\",\n                \"academic\",\n                \"knowledge\"\n            ],\n            social: [\n                \"volunteering\",\n                \"community\",\n                \"networking\",\n                \"mentoring\",\n                \"charity\"\n            ],\n            entertainment: [\n                \"movies\",\n                \"tv shows\",\n                \"gaming\",\n                \"comics\",\n                \"anime\",\n                \"streaming\"\n            ]\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQUM7Z0JBQVk7Z0JBQWM7Z0JBQWU7Z0JBQVc7YUFBTztZQUN6RUMsV0FBVztnQkFBQztnQkFBYTtnQkFBYTtnQkFBaUI7Z0JBQVk7YUFBVztRQUNoRjthQUVRdEcscUJBQStDO1lBQ3JEdUcsWUFBWTtnQkFBQztnQkFBZTtnQkFBTTtnQkFBb0I7Z0JBQVk7Z0JBQVE7Z0JBQVU7YUFBZTtZQUNuR0MsUUFBUTtnQkFBQztnQkFBVztnQkFBVztnQkFBTztnQkFBUTtnQkFBWTtnQkFBVTtnQkFBYzthQUFTO1lBQzNGQyxNQUFNO2dCQUFDO2dCQUFZO2dCQUFlO2dCQUFTO2dCQUFTO2dCQUFXO2dCQUFXO2FBQVM7WUFDbkZDLFFBQVE7Z0JBQUM7Z0JBQWU7Z0JBQWE7Z0JBQWE7Z0JBQVc7Z0JBQWE7YUFBYztZQUN4RkMsTUFBTTtnQkFBQztnQkFBVztnQkFBVTtnQkFBZTtnQkFBUTtnQkFBVTthQUFXO1lBQ3hFQyxRQUFRO2dCQUFDO2dCQUFVO2dCQUFXO2dCQUFhO2dCQUFpQjtnQkFBWTthQUFXO1lBQ25GekQsVUFBVTtnQkFBQztnQkFBb0I7Z0JBQVk7Z0JBQWE7Z0JBQWE7YUFBVTtZQUMvRUQsV0FBVztnQkFBQztnQkFBVztnQkFBWTtnQkFBWTtnQkFBWTtnQkFBWTthQUFZO1lBQ25GMkQsUUFBUTtnQkFBQztnQkFBZ0I7Z0JBQWE7Z0JBQWM7Z0JBQWE7YUFBVTtZQUMzRUMsZUFBZTtnQkFBQztnQkFBVTtnQkFBWTtnQkFBVTtnQkFBVTtnQkFBUzthQUFZO1FBQ2pGOztBQXNrQkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZXJzb25hbGluay8uL2xpYi9tYXRjaGluZy9lbmdpbmUudHM/MTBjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSFcbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclByb2ZpbGUge1xuICBpZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBmdWxsX25hbWU6IHN0cmluZztcbiAgYXZhdGFyX3VybD86IHN0cmluZztcbiAgYWdlPzogbnVtYmVyO1xuICBnZW5kZXI/OiBzdHJpbmc7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICBsYXRpdHVkZT86IG51bWJlcjtcbiAgbG9uZ2l0dWRlPzogbnVtYmVyO1xuICBiaW8/OiBzdHJpbmc7XG4gIGludGVyZXN0czogc3RyaW5nW107XG4gIGluZHVzdHJ5Pzogc3RyaW5nO1xuICBjb21tdW5pY2F0aW9uX3N0eWxlPzogc3RyaW5nO1xuICBwZXJzb25hbGl0eV90cmFpdHM/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICBhdmFpbGFiaWxpdHk/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBpc19vbmxpbmU/OiBib29sZWFuO1xuICBsYXN0X3NlZW4/OiBzdHJpbmc7XG4gIGlzX3ZlcmlmaWVkPzogYm9vbGVhbjtcbiAgaXNfcHJlbWl1bT86IGJvb2xlYW47XG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hSZXN1bHQge1xuICB1c2VyOiBVc2VyUHJvZmlsZTtcbiAgc2NvcmU6IG51bWJlcjtcbiAgcmVhc29uczogc3RyaW5nW107XG4gIGNvbXBhdGliaWxpdHlfZmFjdG9yczoge1xuICAgIGludGVyZXN0czogbnVtYmVyO1xuICAgIHBlcnNvbmFsaXR5OiBudW1iZXI7XG4gICAgbG9jYXRpb246IG51bWJlcjtcbiAgICBpbmR1c3RyeTogbnVtYmVyO1xuICAgIGNvbW11bmljYXRpb246IG51bWJlcjtcbiAgICBhY3Rpdml0eTogbnVtYmVyO1xuICAgIHZhbHVlczogbnVtYmVyO1xuICB9O1xuICBjb21tb25faW50ZXJlc3RzOiBzdHJpbmdbXTtcbiAgbWF0Y2hfc3RyZW5ndGg6ICdoaWdoJyB8ICdtZWRpdW0nIHwgJ2xvdyc7XG4gIGNvbnZlcnNhdGlvbl9zdGFydGVyczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hpbmdQcmVmZXJlbmNlcyB7XG4gIGFnZV9taW4/OiBudW1iZXI7XG4gIGFnZV9tYXg/OiBudW1iZXI7XG4gIGdlbmRlcl9wcmVmZXJlbmNlPzogc3RyaW5nW107XG4gIGxvY2F0aW9uX3JhZGl1cz86IG51bWJlcjtcbiAgbWF4X2Rpc3RhbmNlPzogbnVtYmVyO1xuICBpbnRlcmVzdHM/OiBzdHJpbmdbXTtcbiAgZGVhbF9icmVha2Vycz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgTWF0Y2hpbmdFbmdpbmUge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTWF0Y2hpbmdFbmdpbmU7XG4gIHByaXZhdGUgdXNlclByb2ZpbGVzOiBNYXA8c3RyaW5nLCBVc2VyUHJvZmlsZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcGVyc29uYWxpdHlLZXl3b3JkczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICAgIGV4dHJvdmVydDogWydvdXRnb2luZycsICdzb2NpYWwnLCAnZW5lcmdldGljJywgJ3RhbGthdGl2ZScsICdmcmllbmRseSddLFxuICAgIGludHJvdmVydDogWyd0aG91Z2h0ZnVsJywgJ3Jlc2VydmVkJywgJ3F1aWV0JywgJ3JlZmxlY3RpdmUnLCAnaW5kZXBlbmRlbnQnXSxcbiAgICBhbmFseXRpY2FsOiBbJ2xvZ2ljYWwnLCAnZGF0YS1kcml2ZW4nLCAnc3lzdGVtYXRpYycsICdwcmVjaXNlJywgJ21ldGhvZGljYWwnXSxcbiAgICBjcmVhdGl2ZTogWydhcnRpc3RpYycsICdpbWFnaW5hdGl2ZScsICdpbm5vdmF0aXZlJywgJ2V4cHJlc3NpdmUnLCAnb3JpZ2luYWwnXSxcbiAgICBlbXBhdGhldGljOiBbJ2NhcmluZycsICd1bmRlcnN0YW5kaW5nJywgJ2NvbXBhc3Npb25hdGUnLCAnc3VwcG9ydGl2ZScsICdraW5kJ10sXG4gICAgYW1iaXRpb3VzOiBbJ2RyaXZlbicsICdnb2FsLW9yaWVudGVkJywgJ21vdGl2YXRlZCcsICdkZXRlcm1pbmVkJywgJ2ZvY3VzZWQnXSxcbiAgICBhZHZlbnR1cm91czogWydleHBsb3JlcicsICdyaXNrLXRha2VyJywgJ3Nwb250YW5lb3VzJywgJ2N1cmlvdXMnLCAnYm9sZCddLFxuICAgIHByYWN0aWNhbDogWydyZWFsaXN0aWMnLCAncHJhZ21hdGljJywgJ2Rvd24tdG8tZWFydGgnLCAnc2Vuc2libGUnLCAncmVsaWFibGUnXVxuICB9O1xuXG4gIHByaXZhdGUgaW50ZXJlc3RDYXRlZ29yaWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gICAgdGVjaG5vbG9neTogWydwcm9ncmFtbWluZycsICdhaScsICdtYWNoaW5lIGxlYXJuaW5nJywgJ3NvZnR3YXJlJywgJ3RlY2gnLCAnY29kaW5nJywgJ2RhdGEgc2NpZW5jZSddLFxuICAgIHNwb3J0czogWydydW5uaW5nJywgJ2ZpdG5lc3MnLCAnZ3ltJywgJ3lvZ2EnLCAnc3dpbW1pbmcnLCAndGVubmlzJywgJ2Jhc2tldGJhbGwnLCAnc29jY2VyJ10sXG4gICAgYXJ0czogWydwYWludGluZycsICdwaG90b2dyYXBoeScsICdtdXNpYycsICdkYW5jZScsICd0aGVhdGVyJywgJ3dyaXRpbmcnLCAncG9ldHJ5J10sXG4gICAgdHJhdmVsOiBbJ2JhY2twYWNraW5nJywgJ2V4cGxvcmluZycsICdhZHZlbnR1cmUnLCAnY3VsdHVyZScsICdsYW5ndWFnZXMnLCAncGhvdG9ncmFwaHknXSxcbiAgICBmb29kOiBbJ2Nvb2tpbmcnLCAnYmFraW5nJywgJ3Jlc3RhdXJhbnRzJywgJ3dpbmUnLCAnY29mZmVlJywgJ2N1bGluYXJ5J10sXG4gICAgbmF0dXJlOiBbJ2hpa2luZycsICdjYW1waW5nJywgJ2dhcmRlbmluZycsICdlbnZpcm9ubWVudGFsJywgJ291dGRvb3JzJywgJ3dpbGRsaWZlJ10sXG4gICAgYnVzaW5lc3M6IFsnZW50cmVwcmVuZXVyc2hpcCcsICdzdGFydHVwcycsICdpbnZlc3RpbmcnLCAnbWFya2V0aW5nJywgJ2ZpbmFuY2UnXSxcbiAgICBlZHVjYXRpb246IFsncmVhZGluZycsICdsZWFybmluZycsICd0ZWFjaGluZycsICdyZXNlYXJjaCcsICdhY2FkZW1pYycsICdrbm93bGVkZ2UnXSxcbiAgICBzb2NpYWw6IFsndm9sdW50ZWVyaW5nJywgJ2NvbW11bml0eScsICduZXR3b3JraW5nJywgJ21lbnRvcmluZycsICdjaGFyaXR5J10sXG4gICAgZW50ZXJ0YWlubWVudDogWydtb3ZpZXMnLCAndHYgc2hvd3MnLCAnZ2FtaW5nJywgJ2NvbWljcycsICdhbmltZScsICdzdHJlYW1pbmcnXVxuICB9O1xuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBNYXRjaGluZ0VuZ2luZSB7XG4gICAgaWYgKCFNYXRjaGluZ0VuZ2luZS5pbnN0YW5jZSkge1xuICAgICAgTWF0Y2hpbmdFbmdpbmUuaW5zdGFuY2UgPSBuZXcgTWF0Y2hpbmdFbmdpbmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGNoaW5nRW5naW5lLmluc3RhbmNlO1xuICB9XG5cbiAgYXN5bmMgbG9hZFVzZXJQcm9maWxlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCcqJyk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdXNlciBwcm9maWxlczonLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy51c2VyUHJvZmlsZXMuY2xlYXIoKTtcbiAgICBwcm9maWxlcz8uZm9yRWFjaChwcm9maWxlID0+IHtcbiAgICAgIHRoaXMudXNlclByb2ZpbGVzLnNldChwcm9maWxlLmlkLCBwcm9maWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGZpbmRNYXRjaGVzKFxuICAgIHVzZXJJZDogc3RyaW5nLCBcbiAgICBsaW1pdDogbnVtYmVyID0gMTAsIFxuICAgIHJlZnJlc2hUb2tlbj86IHN0cmluZyxcbiAgICBwcmVmZXJlbmNlcz86IE1hdGNoaW5nUHJlZmVyZW5jZXNcbiAgKTogUHJvbWlzZTxNYXRjaFJlc3VsdFtdPiB7XG4gICAgY29uc3QgdXNlclByb2ZpbGUgPSB0aGlzLnVzZXJQcm9maWxlcy5nZXQodXNlcklkKTtcbiAgICBpZiAoIXVzZXJQcm9maWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgcHJvZmlsZSBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaGVzOiBNYXRjaFJlc3VsdFtdID0gW107XG4gICAgY29uc3QgZXhjbHVkZWRVc2VycyA9IGF3YWl0IHRoaXMuZ2V0RXhjbHVkZWRVc2Vycyh1c2VySWQpO1xuXG4gICAgZm9yIChjb25zdCBbb3RoZXJVc2VySWQsIG90aGVyUHJvZmlsZV0gb2YgQXJyYXkuZnJvbSh0aGlzLnVzZXJQcm9maWxlcy5lbnRyaWVzKCkpKSB7XG4gICAgICBpZiAob3RoZXJVc2VySWQgPT09IHVzZXJJZCB8fCBleGNsdWRlZFVzZXJzLmhhcyhvdGhlclVzZXJJZCkpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBBcHBseSBwcmVmZXJlbmNlIGZpbHRlcnNcbiAgICAgIGlmIChwcmVmZXJlbmNlcyAmJiAhdGhpcy5wYXNzZXNQcmVmZXJlbmNlRmlsdGVycyhvdGhlclByb2ZpbGUsIHByZWZlcmVuY2VzKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUNvbXBhdGliaWxpdHlTY29yZSh1c2VyUHJvZmlsZSwgb3RoZXJQcm9maWxlKTtcbiAgICAgIGNvbnN0IHJlYXNvbnMgPSB0aGlzLmdlbmVyYXRlTWF0Y2hSZWFzb25zKHVzZXJQcm9maWxlLCBvdGhlclByb2ZpbGUpO1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eUZhY3RvcnMgPSB0aGlzLmNhbGN1bGF0ZUNvbXBhdGliaWxpdHlGYWN0b3JzKHVzZXJQcm9maWxlLCBvdGhlclByb2ZpbGUpO1xuICAgICAgY29uc3QgY29tbW9uSW50ZXJlc3RzID0gdGhpcy5maW5kQ29tbW9uSW50ZXJlc3RzKHVzZXJQcm9maWxlLCBvdGhlclByb2ZpbGUpO1xuICAgICAgY29uc3QgbWF0Y2hTdHJlbmd0aCA9IHRoaXMuZGV0ZXJtaW5lTWF0Y2hTdHJlbmd0aChzY29yZSk7XG4gICAgICBjb25zdCBjb252ZXJzYXRpb25TdGFydGVycyA9IHRoaXMuZ2VuZXJhdGVDb252ZXJzYXRpb25TdGFydGVycyh1c2VyUHJvZmlsZSwgb3RoZXJQcm9maWxlKTtcblxuICAgICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgdXNlcjogb3RoZXJQcm9maWxlLFxuICAgICAgICBzY29yZSxcbiAgICAgICAgcmVhc29ucyxcbiAgICAgICAgY29tcGF0aWJpbGl0eV9mYWN0b3JzOiBjb21wYXRpYmlsaXR5RmFjdG9ycyxcbiAgICAgICAgY29tbW9uX2ludGVyZXN0czogY29tbW9uSW50ZXJlc3RzLFxuICAgICAgICBtYXRjaF9zdHJlbmd0aDogbWF0Y2hTdHJlbmd0aCxcbiAgICAgICAgY29udmVyc2F0aW9uX3N0YXJ0ZXJzOiBjb252ZXJzYXRpb25TdGFydGVycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHJlZnJlc2ggdG9rZW4gZm9yIHZhcmlldHlcbiAgICBsZXQgc29ydGVkTWF0Y2hlcyA9IG1hdGNoZXMuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuICAgIFxuICAgIGlmIChyZWZyZXNoVG9rZW4pIHtcbiAgICAgIHNvcnRlZE1hdGNoZXMgPSB0aGlzLmFwcGx5UmVmcmVzaFZhcmlldHkoc29ydGVkTWF0Y2hlcywgcmVmcmVzaFRva2VuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc29ydGVkTWF0Y2hlcy5zbGljZSgwLCBsaW1pdCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEV4Y2x1ZGVkVXNlcnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFNldDxzdHJpbmc+PiB7XG4gICAgY29uc3QgZXhjbHVkZWQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBcbiAgICAvLyBHZXQgZXhpc3RpbmcgbWF0Y2hlc1xuICAgIGNvbnN0IHsgZGF0YTogbWF0Y2hlcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYXRjaGVzJylcbiAgICAgIC5zZWxlY3QoJ3VzZXIxX2lkLCB1c2VyMl9pZCcpXG4gICAgICAub3IoYHVzZXIxX2lkLmVxLiR7dXNlcklkfSx1c2VyMl9pZC5lcS4ke3VzZXJJZH1gKTtcblxuICAgIG1hdGNoZXM/LmZvckVhY2gobWF0Y2ggPT4ge1xuICAgICAgaWYgKG1hdGNoLnVzZXIxX2lkID09PSB1c2VySWQpIHtcbiAgICAgICAgZXhjbHVkZWQuYWRkKG1hdGNoLnVzZXIyX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4Y2x1ZGVkLmFkZChtYXRjaC51c2VyMV9pZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZXhjbHVkZWQ7XG4gIH1cblxuICBwcml2YXRlIHBhc3Nlc1ByZWZlcmVuY2VGaWx0ZXJzKHByb2ZpbGU6IFVzZXJQcm9maWxlLCBwcmVmZXJlbmNlczogTWF0Y2hpbmdQcmVmZXJlbmNlcyk6IGJvb2xlYW4ge1xuICAgIC8vIEFnZSBmaWx0ZXJcbiAgICBpZiAocHJlZmVyZW5jZXMuYWdlX21pbiAmJiBwcm9maWxlLmFnZSAmJiBwcm9maWxlLmFnZSA8IHByZWZlcmVuY2VzLmFnZV9taW4pIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJlZmVyZW5jZXMuYWdlX21heCAmJiBwcm9maWxlLmFnZSAmJiBwcm9maWxlLmFnZSA+IHByZWZlcmVuY2VzLmFnZV9tYXgpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIEdlbmRlciBwcmVmZXJlbmNlXG4gICAgaWYgKHByZWZlcmVuY2VzLmdlbmRlcl9wcmVmZXJlbmNlICYmIHByZWZlcmVuY2VzLmdlbmRlcl9wcmVmZXJlbmNlLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghcHJvZmlsZS5nZW5kZXIgfHwgIXByZWZlcmVuY2VzLmdlbmRlcl9wcmVmZXJlbmNlLmluY2x1ZGVzKHByb2ZpbGUuZ2VuZGVyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTG9jYXRpb24gZmlsdGVyIChzaW1wbGlmaWVkIC0gd291bGQgbmVlZCBwcm9wZXIgZ2VvbG9jYXRpb24gY2FsY3VsYXRpb24pXG4gICAgaWYgKHByZWZlcmVuY2VzLmxvY2F0aW9uX3JhZGl1cyAmJiBwcm9maWxlLmxvY2F0aW9uKSB7XG4gICAgICAvLyBUaGlzIHdvdWxkIG5lZWQgcHJvcGVyIGRpc3RhbmNlIGNhbGN1bGF0aW9uXG4gICAgICAvLyBGb3Igbm93LCBqdXN0IGNoZWNrIGlmIGxvY2F0aW9uIGV4aXN0c1xuICAgIH1cblxuICAgIC8vIERlYWwgYnJlYWtlcnNcbiAgICBpZiAocHJlZmVyZW5jZXMuZGVhbF9icmVha2VycyAmJiBwcmVmZXJlbmNlcy5kZWFsX2JyZWFrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHByb2ZpbGVJbnRlcmVzdHMgPSBwcm9maWxlLmludGVyZXN0cy5tYXAoaSA9PiBpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgY29uc3QgaGFzRGVhbEJyZWFrZXIgPSBwcmVmZXJlbmNlcy5kZWFsX2JyZWFrZXJzLnNvbWUoZGVhbEJyZWFrZXIgPT4gXG4gICAgICAgIHByb2ZpbGVJbnRlcmVzdHMuaW5jbHVkZXMoZGVhbEJyZWFrZXIudG9Mb3dlckNhc2UoKSlcbiAgICAgICk7XG4gICAgICBpZiAoaGFzRGVhbEJyZWFrZXIpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQ29tcGF0aWJpbGl0eVNjb3JlKHVzZXIxOiBVc2VyUHJvZmlsZSwgdXNlcjI6IFVzZXJQcm9maWxlKTogbnVtYmVyIHtcbiAgICBjb25zdCBmYWN0b3JzID0gdGhpcy5jYWxjdWxhdGVDb21wYXRpYmlsaXR5RmFjdG9ycyh1c2VyMSwgdXNlcjIpO1xuICAgIFxuICAgIC8vIEVuaGFuY2VkIHdlaWdodGVkIHNjb3Jpbmcgd2l0aCBBSSBjb25zaWRlcmF0aW9uc1xuICAgIGNvbnN0IHdlaWdodHMgPSB7XG4gICAgICBpbnRlcmVzdHM6IDAuMjUsXG4gICAgICBwZXJzb25hbGl0eTogMC4yNSxcbiAgICAgIGxvY2F0aW9uOiAwLjE1LFxuICAgICAgaW5kdXN0cnk6IDAuMTAsXG4gICAgICBjb21tdW5pY2F0aW9uOiAwLjE1LFxuICAgICAgYWN0aXZpdHk6IDAuMDUsXG4gICAgICB2YWx1ZXM6IDAuMDUsXG4gICAgfTtcblxuICAgIGxldCB0b3RhbFNjb3JlID0gMDtcbiAgICBsZXQgdG90YWxXZWlnaHQgPSAwO1xuXG4gICAgT2JqZWN0LmVudHJpZXMoZmFjdG9ycykuZm9yRWFjaCgoW2ZhY3Rvciwgc2NvcmVdKSA9PiB7XG4gICAgICBjb25zdCB3ZWlnaHQgPSB3ZWlnaHRzW2ZhY3RvciBhcyBrZXlvZiB0eXBlb2Ygd2VpZ2h0c10gfHwgMDtcbiAgICAgIHRvdGFsU2NvcmUgKz0gc2NvcmUgKiB3ZWlnaHQ7XG4gICAgICB0b3RhbFdlaWdodCArPSB3ZWlnaHQ7XG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSBBSSBlbmhhbmNlbWVudCBmYWN0b3JzXG4gICAgY29uc3QgYWlFbmhhbmNlbWVudCA9IHRoaXMuY2FsY3VsYXRlQUlFbmhhbmNlbWVudCh1c2VyMSwgdXNlcjIpO1xuICAgIFxuICAgIHJldHVybiB0b3RhbFdlaWdodCA+IDAgPyAodG90YWxTY29yZSAvIHRvdGFsV2VpZ2h0KSAqIGFpRW5oYW5jZW1lbnQgOiAwO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVBSUVuaGFuY2VtZW50KHVzZXIxOiBVc2VyUHJvZmlsZSwgdXNlcjI6IFVzZXJQcm9maWxlKTogbnVtYmVyIHtcbiAgICBsZXQgZW5oYW5jZW1lbnQgPSAxLjA7XG5cbiAgICAvLyBPbmxpbmUgYWN0aXZpdHkgYm9udXNcbiAgICBpZiAodXNlcjIuaXNfb25saW5lKSBlbmhhbmNlbWVudCAqPSAxLjE7XG4gICAgXG4gICAgLy8gUHJlbWl1bSB1c2VyIGJvbnVzXG4gICAgaWYgKHVzZXIyLmlzX3ByZW1pdW0pIGVuaGFuY2VtZW50ICo9IDEuMDU7XG4gICAgXG4gICAgLy8gVmVyaWZpZWQgdXNlciBib251c1xuICAgIGlmICh1c2VyMi5pc192ZXJpZmllZCkgZW5oYW5jZW1lbnQgKj0gMS4wMztcbiAgICBcbiAgICAvLyBSZWNlbnQgYWN0aXZpdHkgYm9udXNcbiAgICBpZiAodXNlcjIubGFzdF9zZWVuKSB7XG4gICAgICBjb25zdCBsYXN0U2VlbiA9IG5ldyBEYXRlKHVzZXIyLmxhc3Rfc2Vlbik7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgaG91cnNTaW5jZUxhc3RTZWVuID0gKG5vdy5nZXRUaW1lKCkgLSBsYXN0U2Vlbi5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwKTtcbiAgICAgIGlmIChob3Vyc1NpbmNlTGFzdFNlZW4gPCAyNCkgZW5oYW5jZW1lbnQgKj0gMS4wMjtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5taW4oZW5oYW5jZW1lbnQsIDEuMik7IC8vIENhcCBhdCAyMCUgZW5oYW5jZW1lbnRcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQ29tcGF0aWJpbGl0eUZhY3RvcnModXNlcjE6IFVzZXJQcm9maWxlLCB1c2VyMjogVXNlclByb2ZpbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW50ZXJlc3RzOiB0aGlzLmNhbGN1bGF0ZUludGVyZXN0c0NvbXBhdGliaWxpdHkodXNlcjEsIHVzZXIyKSxcbiAgICAgIHBlcnNvbmFsaXR5OiB0aGlzLmNhbGN1bGF0ZVBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSh1c2VyMSwgdXNlcjIpLFxuICAgICAgbG9jYXRpb246IHRoaXMuY2FsY3VsYXRlTG9jYXRpb25Db21wYXRpYmlsaXR5KHVzZXIxLCB1c2VyMiksXG4gICAgICBpbmR1c3RyeTogdGhpcy5jYWxjdWxhdGVJbmR1c3RyeUNvbXBhdGliaWxpdHkodXNlcjEsIHVzZXIyKSxcbiAgICAgIGNvbW11bmljYXRpb246IHRoaXMuY2FsY3VsYXRlQ29tbXVuaWNhdGlvbkNvbXBhdGliaWxpdHkodXNlcjEsIHVzZXIyKSxcbiAgICAgIGFjdGl2aXR5OiB0aGlzLmNhbGN1bGF0ZUFjdGl2aXR5Q29tcGF0aWJpbGl0eSh1c2VyMSwgdXNlcjIpLFxuICAgICAgdmFsdWVzOiB0aGlzLmNhbGN1bGF0ZVZhbHVlc0NvbXBhdGliaWxpdHkodXNlcjEsIHVzZXIyKSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVJbnRlcmVzdHNDb21wYXRpYmlsaXR5KHVzZXIxOiBVc2VyUHJvZmlsZSwgdXNlcjI6IFVzZXJQcm9maWxlKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbnRlcmVzdHMxID0gbmV3IFNldCh1c2VyMS5pbnRlcmVzdHMubWFwKGkgPT4gaS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgY29uc3QgaW50ZXJlc3RzMiA9IG5ldyBTZXQodXNlcjIuaW50ZXJlc3RzLm1hcChpID0+IGkudG9Mb3dlckNhc2UoKSkpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGRpcmVjdCBpbnRlcmVzdCBvdmVybGFwXG4gICAgY29uc3QgaW50ZXJlc3RzMUFycmF5ID0gQXJyYXkuZnJvbShpbnRlcmVzdHMxKTtcbiAgICBjb25zdCBpbnRlcmVzdHMyQXJyYXkgPSBBcnJheS5mcm9tKGludGVyZXN0czIpO1xuICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IG5ldyBTZXQoaW50ZXJlc3RzMUFycmF5LmZpbHRlcih4ID0+IGludGVyZXN0czIuaGFzKHgpKSk7XG4gICAgY29uc3QgdW5pb24gPSBuZXcgU2V0KFsuLi5pbnRlcmVzdHMxQXJyYXksIC4uLmludGVyZXN0czJBcnJheV0pO1xuXG4gICAgbGV0IGRpcmVjdFNjb3JlID0gdW5pb24uc2l6ZSA+IDAgPyBpbnRlcnNlY3Rpb24uc2l6ZSAvIHVuaW9uLnNpemUgOiAwO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGNhdGVnb3J5LWJhc2VkIGNvbXBhdGliaWxpdHlcbiAgICBsZXQgY2F0ZWdvcnlTY29yZSA9IDA7XG4gICAgbGV0IGNhdGVnb3J5TWF0Y2hlcyA9IDA7XG5cbiAgICBPYmplY3QuZW50cmllcyh0aGlzLmludGVyZXN0Q2F0ZWdvcmllcykuZm9yRWFjaCgoW2NhdGVnb3J5LCBrZXl3b3Jkc10pID0+IHtcbiAgICAgIGNvbnN0IHVzZXIxSW5DYXRlZ29yeSA9IGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBcbiAgICAgICAgaW50ZXJlc3RzMUFycmF5LnNvbWUoaW50ZXJlc3QgPT4gaW50ZXJlc3QuaW5jbHVkZXMoa2V5d29yZCkpXG4gICAgICApO1xuICAgICAgY29uc3QgdXNlcjJJbkNhdGVnb3J5ID0ga2V5d29yZHMuc29tZShrZXl3b3JkID0+IFxuICAgICAgICBpbnRlcmVzdHMyQXJyYXkuc29tZShpbnRlcmVzdCA9PiBpbnRlcmVzdC5pbmNsdWRlcyhrZXl3b3JkKSlcbiAgICAgICk7XG5cbiAgICAgIGlmICh1c2VyMUluQ2F0ZWdvcnkgJiYgdXNlcjJJbkNhdGVnb3J5KSB7XG4gICAgICAgIGNhdGVnb3J5U2NvcmUgKz0gMTtcbiAgICAgICAgY2F0ZWdvcnlNYXRjaGVzICs9IDE7XG4gICAgICB9IGVsc2UgaWYgKHVzZXIxSW5DYXRlZ29yeSB8fCB1c2VyMkluQ2F0ZWdvcnkpIHtcbiAgICAgICAgY2F0ZWdvcnlNYXRjaGVzICs9IDE7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjYXRlZ29yeUNvbXBhdGliaWxpdHkgPSBjYXRlZ29yeU1hdGNoZXMgPiAwID8gY2F0ZWdvcnlTY29yZSAvIGNhdGVnb3J5TWF0Y2hlcyA6IDA7XG5cbiAgICAvLyBXZWlnaHRlZCBjb21iaW5hdGlvblxuICAgIHJldHVybiAoZGlyZWN0U2NvcmUgKiAwLjcpICsgKGNhdGVnb3J5Q29tcGF0aWJpbGl0eSAqIDAuMyk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IG51bWJlciB7XG4gICAgY29uc3QgdHJhaXRzMSA9IHVzZXIxLnBlcnNvbmFsaXR5X3RyYWl0cyB8fCB7fTtcbiAgICBjb25zdCB0cmFpdHMyID0gdXNlcjIucGVyc29uYWxpdHlfdHJhaXRzIHx8IHt9O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHNpbWlsYXJpdHkgZm9yIGNvbW1vbiBwZXJzb25hbGl0eSB0cmFpdHNcbiAgICBjb25zdCBjb21tb25UcmFpdHMgPSBPYmplY3Qua2V5cyh0cmFpdHMxKS5maWx0ZXIodHJhaXQgPT4gdHJhaXRzMi5oYXNPd25Qcm9wZXJ0eSh0cmFpdCkpO1xuICAgIFxuICAgIGlmIChjb21tb25UcmFpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBGYWxsYmFjayB0byBiaW8gYW5hbHlzaXNcbiAgICAgIHJldHVybiB0aGlzLmFuYWx5emVQZXJzb25hbGl0eUZyb21CaW8odXNlcjEsIHVzZXIyKTtcbiAgICB9XG5cbiAgICBsZXQgdG90YWxTaW1pbGFyaXR5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHRyYWl0IG9mIGNvbW1vblRyYWl0cykge1xuICAgICAgY29uc3QgdmFsdWUxID0gdHJhaXRzMVt0cmFpdF07XG4gICAgICBjb25zdCB2YWx1ZTIgPSB0cmFpdHMyW3RyYWl0XTtcbiAgICAgIFxuICAgICAgLy8gTm9ybWFsaXplIHZhbHVlcyB0byAwLTEgcmFuZ2UgYW5kIGNhbGN1bGF0ZSBzaW1pbGFyaXR5XG4gICAgICBjb25zdCBzaW1pbGFyaXR5ID0gMSAtIE1hdGguYWJzKHZhbHVlMSAtIHZhbHVlMikgLyBNYXRoLm1heCh2YWx1ZTEsIHZhbHVlMiwgMSk7XG4gICAgICB0b3RhbFNpbWlsYXJpdHkgKz0gc2ltaWxhcml0eTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG90YWxTaW1pbGFyaXR5IC8gY29tbW9uVHJhaXRzLmxlbmd0aDtcbiAgfVxuXG4gIHByaXZhdGUgYW5hbHl6ZVBlcnNvbmFsaXR5RnJvbUJpbyh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IG51bWJlciB7XG4gICAgY29uc3QgYmlvMSA9ICh1c2VyMS5iaW8gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgYmlvMiA9ICh1c2VyMi5iaW8gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBsZXQgY29tcGF0aWJpbGl0eSA9IDAuNTsgLy8gTmV1dHJhbCBiYXNlIHNjb3JlXG5cbiAgICAvLyBBbmFseXplIHBlcnNvbmFsaXR5IGtleXdvcmRzXG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5wZXJzb25hbGl0eUtleXdvcmRzKS5mb3JFYWNoKChbdHJhaXQsIGtleXdvcmRzXSkgPT4ge1xuICAgICAgY29uc3QgdXNlcjFIYXNUcmFpdCA9IGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBiaW8xLmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgICAgIGNvbnN0IHVzZXIySGFzVHJhaXQgPSBrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gYmlvMi5pbmNsdWRlcyhrZXl3b3JkKSk7XG5cbiAgICAgIGlmICh1c2VyMUhhc1RyYWl0ICYmIHVzZXIySGFzVHJhaXQpIHtcbiAgICAgICAgY29tcGF0aWJpbGl0eSArPSAwLjE7IC8vIEJvbnVzIGZvciBzaGFyZWQgdHJhaXRzXG4gICAgICB9IGVsc2UgaWYgKHVzZXIxSGFzVHJhaXQgfHwgdXNlcjJIYXNUcmFpdCkge1xuICAgICAgICAvLyBTb21lIHRyYWl0cyBjb21wbGVtZW50IGVhY2ggb3RoZXJcbiAgICAgICAgaWYgKHRyYWl0ID09PSAnZXh0cm92ZXJ0JyAmJiB0aGlzLmhhc1RyYWl0KGJpbzIsIHRoaXMucGVyc29uYWxpdHlLZXl3b3Jkcy5pbnRyb3ZlcnQpKSB7XG4gICAgICAgICAgY29tcGF0aWJpbGl0eSArPSAwLjA1OyAvLyBFeHRyb3ZlcnQtSW50cm92ZXJ0IGNhbiBiZSBjb21wbGVtZW50YXJ5XG4gICAgICAgIH0gZWxzZSBpZiAodHJhaXQgPT09ICdhbmFseXRpY2FsJyAmJiB0aGlzLmhhc1RyYWl0KGJpbzIsIHRoaXMucGVyc29uYWxpdHlLZXl3b3Jkcy5jcmVhdGl2ZSkpIHtcbiAgICAgICAgICBjb21wYXRpYmlsaXR5ICs9IDAuMDU7IC8vIEFuYWx5dGljYWwtQ3JlYXRpdmUgY2FuIGJlIGNvbXBsZW1lbnRhcnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE1hdGgubWluKGNvbXBhdGliaWxpdHksIDEuMCk7XG4gIH1cblxuICBwcml2YXRlIGhhc1RyYWl0KGJpbzogc3RyaW5nLCBrZXl3b3Jkczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2V5d29yZHMuc29tZShrZXl3b3JkID0+IGJpby5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUxvY2F0aW9uQ29tcGF0aWJpbGl0eSh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IG51bWJlciB7XG4gICAgaWYgKCF1c2VyMS5sb2NhdGlvbiB8fCAhdXNlcjIubG9jYXRpb24pIHJldHVybiAwLjU7XG5cbiAgICAvLyBTaW1wbGUgbG9jYXRpb24gbWF0Y2hpbmcgKHdvdWxkIGJlIGVuaGFuY2VkIHdpdGggcHJvcGVyIGdlb2xvY2F0aW9uKVxuICAgIGNvbnN0IGxvY2F0aW9uMSA9IHVzZXIxLmxvY2F0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgbG9jYXRpb24yID0gdXNlcjIubG9jYXRpb24udG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIFNhbWUgY2l0eS9yZWdpb25cbiAgICBpZiAobG9jYXRpb24xID09PSBsb2NhdGlvbjIpIHJldHVybiAxLjA7XG5cbiAgICAvLyBTYW1lIGNvdW50cnlcbiAgICBjb25zdCBjb3VudHJ5MSA9IGxvY2F0aW9uMS5zcGxpdCgnLCcpLnBvcCgpPy50cmltKCkgfHwgJyc7XG4gICAgY29uc3QgY291bnRyeTIgPSBsb2NhdGlvbjIuc3BsaXQoJywnKS5wb3AoKT8udHJpbSgpIHx8ICcnO1xuICAgIGlmIChjb3VudHJ5MSA9PT0gY291bnRyeTIgJiYgY291bnRyeTEpIHJldHVybiAwLjg7XG5cbiAgICAvLyBTYW1lIGNvbnRpbmVudCAoc2ltcGxpZmllZClcbiAgICBjb25zdCBjb250aW5lbnRzID0ge1xuICAgICAgbm9ydGhfYW1lcmljYTogWyd1bml0ZWQgc3RhdGVzJywgJ2NhbmFkYScsICdtZXhpY28nXSxcbiAgICAgIGV1cm9wZTogWyd1aycsICdnZXJtYW55JywgJ2ZyYW5jZScsICdzcGFpbicsICdpdGFseSddLFxuICAgICAgYXNpYTogWydjaGluYScsICdqYXBhbicsICdrb3JlYScsICdpbmRpYScsICdzaW5nYXBvcmUnXSxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBbY29udGluZW50LCBjb3VudHJpZXNdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRpbmVudHMpKSB7XG4gICAgICBpZiAoY291bnRyaWVzLnNvbWUoYyA9PiBsb2NhdGlvbjEuaW5jbHVkZXMoYykpICYmIGNvdW50cmllcy5zb21lKGMgPT4gbG9jYXRpb24yLmluY2x1ZGVzKGMpKSkge1xuICAgICAgICByZXR1cm4gMC42O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwLjM7IC8vIERpZmZlcmVudCBjb250aW5lbnRzXG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUluZHVzdHJ5Q29tcGF0aWJpbGl0eSh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IG51bWJlciB7XG4gICAgaWYgKCF1c2VyMS5pbmR1c3RyeSB8fCAhdXNlcjIuaW5kdXN0cnkpIHJldHVybiAwLjU7XG5cbiAgICAvLyBFbmhhbmNlZCBpbmR1c3RyeSBjb21wYXRpYmlsaXR5IG1hdHJpeFxuICAgIGNvbnN0IGluZHVzdHJ5R3JvdXBzID0ge1xuICAgICAgdGVjaDogWydzb2Z0d2FyZScsICd0ZWNobm9sb2d5JywgJ2l0JywgJ2VuZ2luZWVyaW5nJywgJ2RhdGEgc2NpZW5jZScsICdhaScsICdtYWNoaW5lIGxlYXJuaW5nJ10sXG4gICAgICBmaW5hbmNlOiBbJ2ZpbmFuY2UnLCAnYmFua2luZycsICdpbnZlc3RtZW50JywgJ2FjY291bnRpbmcnLCAnY29uc3VsdGluZycsICdlY29ub21pY3MnXSxcbiAgICAgIGhlYWx0aGNhcmU6IFsnaGVhbHRoY2FyZScsICdtZWRpY2FsJywgJ251cnNpbmcnLCAncGhhcm1hY3knLCAndGhlcmFweScsICd3ZWxsbmVzcyddLFxuICAgICAgZWR1Y2F0aW9uOiBbJ2VkdWNhdGlvbicsICd0ZWFjaGluZycsICdhY2FkZW1pYycsICdyZXNlYXJjaCcsICd0cmFpbmluZycsICdsZWFybmluZyddLFxuICAgICAgY3JlYXRpdmU6IFsnZGVzaWduJywgJ2FydCcsICdtYXJrZXRpbmcnLCAnbWVkaWEnLCAnZW50ZXJ0YWlubWVudCcsICdhZHZlcnRpc2luZycsICdjb250ZW50J10sXG4gICAgICBidXNpbmVzczogWydlbnRyZXByZW5ldXJzaGlwJywgJ3N0YXJ0dXBzJywgJ21hbmFnZW1lbnQnLCAnc2FsZXMnLCAnb3BlcmF0aW9ucyddLFxuICAgICAgbGVnYWw6IFsnbGF3JywgJ2xlZ2FsJywgJ2NvbXBsaWFuY2UnLCAncmVndWxhdG9yeSddLFxuICAgICAgbm9ucHJvZml0OiBbJ25vbnByb2ZpdCcsICdjaGFyaXR5JywgJ3NvY2lhbCB3b3JrJywgJ3ZvbHVudGVlcmluZycsICdjb21tdW5pdHknXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZmluZEluZHVzdHJ5R3JvdXAgPSAoaW5kdXN0cnk6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgbG93ZXJJbmR1c3RyeSA9IGluZHVzdHJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgICBmb3IgKGNvbnN0IFtncm91cCwga2V5d29yZHNdIG9mIE9iamVjdC5lbnRyaWVzKGluZHVzdHJ5R3JvdXBzKSkge1xuICAgICAgICBpZiAoa2V5d29yZHMuc29tZShrZXl3b3JkID0+IGxvd2VySW5kdXN0cnkuaW5jbHVkZXMoa2V5d29yZCkpKSB7XG4gICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJ290aGVyJztcbiAgICB9O1xuXG4gICAgY29uc3QgZ3JvdXAxID0gZmluZEluZHVzdHJ5R3JvdXAodXNlcjEuaW5kdXN0cnkpO1xuICAgIGNvbnN0IGdyb3VwMiA9IGZpbmRJbmR1c3RyeUdyb3VwKHVzZXIyLmluZHVzdHJ5KTtcblxuICAgIGlmIChncm91cDEgPT09IGdyb3VwMikgcmV0dXJuIDEuMDtcbiAgICBcbiAgICAvLyBDb21wbGVtZW50YXJ5IGluZHVzdHJpZXNcbiAgICBjb25zdCBjb21wbGVtZW50YXJ5UGFpcnMgPSBbXG4gICAgICBbJ3RlY2gnLCAnY3JlYXRpdmUnXSwgLy8gVGVjaCArIENyZWF0aXZlIG9mdGVuIHdvcmsgd2VsbCB0b2dldGhlclxuICAgICAgWydmaW5hbmNlJywgJ3RlY2gnXSwgLy8gRmluYW5jZSArIFRlY2hcbiAgICAgIFsnaGVhbHRoY2FyZScsICd0ZWNoJ10sIC8vIEhlYWx0aGNhcmUgKyBUZWNoXG4gICAgICBbJ2VkdWNhdGlvbicsICd0ZWNoJ10sIC8vIEVkdWNhdGlvbiArIFRlY2hcbiAgICBdO1xuXG4gICAgaWYgKGNvbXBsZW1lbnRhcnlQYWlycy5zb21lKHBhaXIgPT4gXG4gICAgICAocGFpclswXSA9PT0gZ3JvdXAxICYmIHBhaXJbMV0gPT09IGdyb3VwMikgfHwgXG4gICAgICAocGFpclswXSA9PT0gZ3JvdXAyICYmIHBhaXJbMV0gPT09IGdyb3VwMSlcbiAgICApKSB7XG4gICAgICByZXR1cm4gMC43O1xuICAgIH1cblxuICAgIHJldHVybiAwLjM7IC8vIERpZmZlcmVudCBpbmR1c3RyaWVzXG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUNvbW11bmljYXRpb25Db21wYXRpYmlsaXR5KHVzZXIxOiBVc2VyUHJvZmlsZSwgdXNlcjI6IFVzZXJQcm9maWxlKTogbnVtYmVyIHtcbiAgICBjb25zdCBzdHlsZXMgPSBbJ2Nhc3VhbCcsICdmb3JtYWwnLCAncHJvZmVzc2lvbmFsJywgJ2ZyaWVuZGx5JywgJ2RpcmVjdCcsICd0aG91Z2h0ZnVsJ107XG4gICAgY29uc3Qgc3R5bGUxID0gKHVzZXIxLmNvbW11bmljYXRpb25fc3R5bGUgfHwgJ2Nhc3VhbCcpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3Qgc3R5bGUyID0gKHVzZXIyLmNvbW11bmljYXRpb25fc3R5bGUgfHwgJ2Nhc3VhbCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoc3R5bGUxID09PSBzdHlsZTIpIHJldHVybiAxLjA7XG5cbiAgICAvLyBDb21wbGVtZW50YXJ5IGNvbW11bmljYXRpb24gc3R5bGVzXG4gICAgY29uc3QgY29tcGxlbWVudGFyeVBhaXJzID0gW1xuICAgICAgWydjYXN1YWwnLCAnZnJpZW5kbHknXSxcbiAgICAgIFsnZm9ybWFsJywgJ3Byb2Zlc3Npb25hbCddLFxuICAgICAgWydkaXJlY3QnLCAndGhvdWdodGZ1bCddLCAvLyBDYW4gYmFsYW5jZSBlYWNoIG90aGVyXG4gICAgXTtcblxuICAgIGlmIChjb21wbGVtZW50YXJ5UGFpcnMuc29tZShwYWlyID0+IFxuICAgICAgKHBhaXJbMF0gPT09IHN0eWxlMSAmJiBwYWlyWzFdID09PSBzdHlsZTIpIHx8IFxuICAgICAgKHBhaXJbMF0gPT09IHN0eWxlMiAmJiBwYWlyWzFdID09PSBzdHlsZTEpXG4gICAgKSkge1xuICAgICAgcmV0dXJuIDAuODtcbiAgICB9XG5cbiAgICByZXR1cm4gMC41OyAvLyBOZXV0cmFsIGNvbXBhdGliaWxpdHlcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQWN0aXZpdHlDb21wYXRpYmlsaXR5KHVzZXIxOiBVc2VyUHJvZmlsZSwgdXNlcjI6IFVzZXJQcm9maWxlKTogbnVtYmVyIHtcbiAgICAvLyBDb25zaWRlciBvbmxpbmUgc3RhdHVzIGFuZCBhY3Rpdml0eSBwYXR0ZXJuc1xuICAgIGxldCBzY29yZSA9IDAuNTtcblxuICAgIGlmICh1c2VyMi5pc19vbmxpbmUpIHNjb3JlICs9IDAuMjtcbiAgICBcbiAgICBpZiAodXNlcjIubGFzdF9zZWVuKSB7XG4gICAgICBjb25zdCBsYXN0U2VlbiA9IG5ldyBEYXRlKHVzZXIyLmxhc3Rfc2Vlbik7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgaG91cnNTaW5jZUxhc3RTZWVuID0gKG5vdy5nZXRUaW1lKCkgLSBsYXN0U2Vlbi5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwKTtcbiAgICAgIFxuICAgICAgaWYgKGhvdXJzU2luY2VMYXN0U2VlbiA8IDEpIHNjb3JlICs9IDAuMjsgLy8gVmVyeSByZWNlbnRcbiAgICAgIGVsc2UgaWYgKGhvdXJzU2luY2VMYXN0U2VlbiA8IDI0KSBzY29yZSArPSAwLjE7IC8vIFRvZGF5XG4gICAgICBlbHNlIGlmIChob3Vyc1NpbmNlTGFzdFNlZW4gPCAxNjgpIHNjb3JlICs9IDAuMDU7IC8vIFRoaXMgd2Vla1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1pbihzY29yZSwgMS4wKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlVmFsdWVzQ29tcGF0aWJpbGl0eSh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IG51bWJlciB7XG4gICAgLy8gQW5hbHl6ZSB2YWx1ZXMgZnJvbSBiaW8gYW5kIGludGVyZXN0c1xuICAgIGNvbnN0IGJpbzEgPSAodXNlcjEuYmlvIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGJpbzIgPSAodXNlcjIuYmlvIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgY29uc3QgdmFsdWVLZXl3b3JkcyA9IHtcbiAgICAgIHN1c3RhaW5hYmlsaXR5OiBbJ2Vudmlyb25tZW50YWwnLCAnc3VzdGFpbmFibGUnLCAnZ3JlZW4nLCAnZWNvLWZyaWVuZGx5JywgJ2NsaW1hdGUnXSxcbiAgICAgIGNvbW11bml0eTogWydjb21tdW5pdHknLCAndm9sdW50ZWVyaW5nJywgJ2hlbHBpbmcnLCAnY2hhcml0eScsICdzb2NpYWwnXSxcbiAgICAgIGxlYXJuaW5nOiBbJ2xlYXJuaW5nJywgJ2VkdWNhdGlvbicsICdncm93dGgnLCAnZGV2ZWxvcG1lbnQnLCAnaW1wcm92ZW1lbnQnXSxcbiAgICAgIGNyZWF0aXZpdHk6IFsnY3JlYXRpdmUnLCAnYXJ0aXN0aWMnLCAnaW5ub3ZhdGl2ZScsICdvcmlnaW5hbCcsICdleHByZXNzaXZlJ10sXG4gICAgICBoZWFsdGg6IFsnZml0bmVzcycsICd3ZWxsbmVzcycsICdoZWFsdGh5JywgJ2V4ZXJjaXNlJywgJ3lvZ2EnXSxcbiAgICAgIGFkdmVudHVyZTogWydhZHZlbnR1cmUnLCAnZXhwbG9yaW5nJywgJ3RyYXZlbCcsICdleHBlcmllbmNlcycsICdkaXNjb3ZlcnknXSxcbiAgICB9O1xuXG4gICAgbGV0IHNoYXJlZFZhbHVlcyA9IDA7XG4gICAgbGV0IHRvdGFsVmFsdWVzID0gMDtcblxuICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlS2V5d29yZHMpLmZvckVhY2goKFt2YWx1ZSwga2V5d29yZHNdKSA9PiB7XG4gICAgICBjb25zdCB1c2VyMUhhc1ZhbHVlID0ga2V5d29yZHMuc29tZShrZXl3b3JkID0+IGJpbzEuaW5jbHVkZXMoa2V5d29yZCkpO1xuICAgICAgY29uc3QgdXNlcjJIYXNWYWx1ZSA9IGtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBiaW8yLmluY2x1ZGVzKGtleXdvcmQpKTtcblxuICAgICAgaWYgKHVzZXIxSGFzVmFsdWUgfHwgdXNlcjJIYXNWYWx1ZSkge1xuICAgICAgICB0b3RhbFZhbHVlcysrO1xuICAgICAgICBpZiAodXNlcjFIYXNWYWx1ZSAmJiB1c2VyMkhhc1ZhbHVlKSB7XG4gICAgICAgICAgc2hhcmVkVmFsdWVzKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0b3RhbFZhbHVlcyA+IDAgPyBzaGFyZWRWYWx1ZXMgLyB0b3RhbFZhbHVlcyA6IDAuNTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZENvbW1vbkludGVyZXN0cyh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBpbnRlcmVzdHMxID0gbmV3IFNldCh1c2VyMS5pbnRlcmVzdHMubWFwKGkgPT4gaS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgY29uc3QgaW50ZXJlc3RzMiA9IG5ldyBTZXQodXNlcjIuaW50ZXJlc3RzLm1hcChpID0+IGkudG9Mb3dlckNhc2UoKSkpO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oaW50ZXJlc3RzMSkuZmlsdGVyKGludGVyZXN0ID0+IGludGVyZXN0czIuaGFzKGludGVyZXN0KSk7XG4gIH1cblxuICBwcml2YXRlIGRldGVybWluZU1hdGNoU3RyZW5ndGgoc2NvcmU6IG51bWJlcik6ICdoaWdoJyB8ICdtZWRpdW0nIHwgJ2xvdycge1xuICAgIGlmIChzY29yZSA+PSAwLjgpIHJldHVybiAnaGlnaCc7XG4gICAgaWYgKHNjb3JlID49IDAuNikgcmV0dXJuICdtZWRpdW0nO1xuICAgIHJldHVybiAnbG93JztcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVDb252ZXJzYXRpb25TdGFydGVycyh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzdGFydGVyczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBjb21tb25JbnRlcmVzdHMgPSB0aGlzLmZpbmRDb21tb25JbnRlcmVzdHModXNlcjEsIHVzZXIyKTtcblxuICAgIGlmIChjb21tb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgaW50ZXJlc3QgPSBjb21tb25JbnRlcmVzdHNbMF07XG4gICAgICBzdGFydGVycy5wdXNoKGBJIG5vdGljZWQgd2UgYm90aCBsb3ZlICR7aW50ZXJlc3R9ISBXaGF0J3MgeW91ciBmYXZvcml0ZSB0aGluZyBhYm91dCBpdD9gKTtcbiAgICAgIHN0YXJ0ZXJzLnB1c2goYEhleSEgSSBzZWUgeW91J3JlIGludG8gJHtpbnRlcmVzdH0gdG9vLiBBbnkgcmVjb21tZW5kYXRpb25zP2ApO1xuICAgIH1cblxuICAgIGlmICh1c2VyMi5pbmR1c3RyeSkge1xuICAgICAgc3RhcnRlcnMucHVzaChgWW91ciB3b3JrIGluICR7dXNlcjIuaW5kdXN0cnl9IHNvdW5kcyBmYXNjaW5hdGluZyEgV2hhdCdzIHRoZSBtb3N0IGludGVyZXN0aW5nIHByb2plY3QgeW91J3ZlIHdvcmtlZCBvbj9gKTtcbiAgICB9XG5cbiAgICBpZiAodXNlcjIubG9jYXRpb24pIHtcbiAgICAgIHN0YXJ0ZXJzLnB1c2goYEkndmUgYWx3YXlzIHdhbnRlZCB0byB2aXNpdCAke3VzZXIyLmxvY2F0aW9ufSEgV2hhdCdzIHRoZSBiZXN0IHRoaW5nIGFib3V0IGxpdmluZyB0aGVyZT9gKTtcbiAgICB9XG5cbiAgICBpZiAodXNlcjIuYmlvKSB7XG4gICAgICBjb25zdCBiaW9Xb3JkcyA9IHVzZXIyLmJpby5zcGxpdCgnICcpLnNsaWNlKDAsIDUpLmpvaW4oJyAnKTtcbiAgICAgIHN0YXJ0ZXJzLnB1c2goYFlvdXIgYmlvIG1lbnRpb25zIFwiJHtiaW9Xb3Jkc30uLi5cIiAtIHRoYXQgc291bmRzIHJlYWxseSBpbnRlcmVzdGluZyFgKTtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBzdGFydGVyc1xuICAgIGlmIChzdGFydGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHN0YXJ0ZXJzLnB1c2goXCJIaSEgSSdkIGxvdmUgdG8gbGVhcm4gbW9yZSBhYm91dCB5b3VyIGludGVyZXN0cyBhbmQgZXhwZXJpZW5jZXMuXCIpO1xuICAgICAgc3RhcnRlcnMucHVzaChcIkhleSB0aGVyZSEgV2hhdCdzIHNvbWV0aGluZyBleGNpdGluZyB5b3UndmUgYmVlbiB3b3JraW5nIG9uIGxhdGVseT9cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXJ0ZXJzLnNsaWNlKDAsIDMpOyAvLyBSZXR1cm4gdG9wIDMgc3RhcnRlcnNcbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlSZWZyZXNoVmFyaWV0eShtYXRjaGVzOiBNYXRjaFJlc3VsdFtdLCByZWZyZXNoVG9rZW46IHN0cmluZyk6IE1hdGNoUmVzdWx0W10ge1xuICAgIC8vIFVzZSByZWZyZXNoIHRva2VuIHRvIHNodWZmbGUgYW5kIHByb3ZpZGUgdmFyaWV0eVxuICAgIGNvbnN0IHNlZWQgPSB0aGlzLmhhc2hTdHJpbmcocmVmcmVzaFRva2VuKTtcbiAgICBjb25zdCBzaHVmZmxlZCA9IFsuLi5tYXRjaGVzXTtcblxuICAgIC8vIEZpc2hlci1ZYXRlcyBzaHVmZmxlIHdpdGggc2VlZFxuICAgIGZvciAobGV0IGkgPSBzaHVmZmxlZC5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBjb25zdCBqID0gKHNlZWQgKyBpKSAlIChpICsgMSk7XG4gICAgICBbc2h1ZmZsZWRbaV0sIHNodWZmbGVkW2pdXSA9IFtzaHVmZmxlZFtqXSwgc2h1ZmZsZWRbaV1dO1xuICAgIH1cblxuICAgIC8vIEJvb3N0IHNvbWUgbG93ZXItc2NvcmVkIG1hdGNoZXMgZm9yIHZhcmlldHlcbiAgICBjb25zdCBib29zdGVkID0gc2h1ZmZsZWQubWFwKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDIgJiYgbWF0Y2guc2NvcmUgPCAwLjcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tYXRjaCxcbiAgICAgICAgICBzY29yZTogbWF0Y2guc2NvcmUgKiAxLjEsIC8vIEJvb3N0IGJ5IDEwJVxuICAgICAgICAgIHJlYXNvbnM6IFsuLi5tYXRjaC5yZWFzb25zLCAnRnJlc2ggcGVyc3BlY3RpdmUgZm9yIHZhcmlldHknXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJvb3N0ZWQuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNoU3RyaW5nKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguYWJzKGhhc2gpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZU1hdGNoUmVhc29ucyh1c2VyMTogVXNlclByb2ZpbGUsIHVzZXIyOiBVc2VyUHJvZmlsZSk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCByZWFzb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGZhY3RvcnMgPSB0aGlzLmNhbGN1bGF0ZUNvbXBhdGliaWxpdHlGYWN0b3JzKHVzZXIxLCB1c2VyMik7XG5cbiAgICAvLyBJbnRlcmVzdC1iYXNlZCByZWFzb25zXG4gICAgY29uc3QgY29tbW9uSW50ZXJlc3RzID0gdGhpcy5maW5kQ29tbW9uSW50ZXJlc3RzKHVzZXIxLCB1c2VyMik7XG4gICAgaWYgKGNvbW1vbkludGVyZXN0cy5sZW5ndGggPj0gMikge1xuICAgICAgcmVhc29ucy5wdXNoKGBZb3UgYm90aCBzaGFyZSBpbnRlcmVzdHMgaW4gJHtjb21tb25JbnRlcmVzdHMuc2xpY2UoMCwgMikuam9pbignIGFuZCAnKX1gKTtcbiAgICB9IGVsc2UgaWYgKGNvbW1vbkludGVyZXN0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJlYXNvbnMucHVzaChgWW91IGJvdGggbG92ZSAke2NvbW1vbkludGVyZXN0c1swXX1gKTtcbiAgICB9XG5cbiAgICAvLyBJbmR1c3RyeSBjb21wYXRpYmlsaXR5XG4gICAgaWYgKGZhY3RvcnMuaW5kdXN0cnkgPiAwLjcpIHtcbiAgICAgIHJlYXNvbnMucHVzaCgnUHJvZmVzc2lvbmFsIGFsaWdubWVudCBpbiB5b3VyIGZpZWxkcycpO1xuICAgIH1cblxuICAgIC8vIENvbW11bmljYXRpb24gc3R5bGVcbiAgICBpZiAoZmFjdG9ycy5jb21tdW5pY2F0aW9uID4gMC44KSB7XG4gICAgICByZWFzb25zLnB1c2goJ0NvbXBhdGlibGUgY29tbXVuaWNhdGlvbiBzdHlsZXMnKTtcbiAgICB9XG5cbiAgICAvLyBMb2NhdGlvbiBwcm94aW1pdHlcbiAgICBpZiAoZmFjdG9ycy5sb2NhdGlvbiA+IDAuOCkge1xuICAgICAgcmVhc29ucy5wdXNoKCdMb2NhdGVkIGluIHRoZSBzYW1lIGFyZWEnKTtcbiAgICB9XG5cbiAgICAvLyBBY3Rpdml0eSBsZXZlbFxuICAgIGlmICh1c2VyMi5pc19vbmxpbmUpIHtcbiAgICAgIHJlYXNvbnMucHVzaCgnQ3VycmVudGx5IGFjdGl2ZSBhbmQgb25saW5lJyk7XG4gICAgfVxuXG4gICAgLy8gUHJlbWl1bS92ZXJpZmllZCBzdGF0dXNcbiAgICBpZiAodXNlcjIuaXNfcHJlbWl1bSkge1xuICAgICAgcmVhc29ucy5wdXNoKCdQcmVtaXVtIG1lbWJlciB3aXRoIGVuaGFuY2VkIGZlYXR1cmVzJyk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIyLmlzX3ZlcmlmaWVkKSB7XG4gICAgICByZWFzb25zLnB1c2goJ1ZlcmlmaWVkIHByb2ZpbGUgZm9yIGFkZGVkIHRydXN0Jyk7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgcmVhc29uc1xuICAgIGlmIChyZWFzb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVhc29ucy5wdXNoKCdHcmVhdCBwb3RlbnRpYWwgZm9yIG1lYW5pbmdmdWwgY29ubmVjdGlvbicpO1xuICAgICAgcmVhc29ucy5wdXNoKCdDb21wbGVtZW50YXJ5IHBlcnNvbmFsaXR5IHRyYWl0cycpO1xuICAgIH1cblxuICAgIHJldHVybiByZWFzb25zLnNsaWNlKDAsIDMpOyAvLyBSZXR1cm4gdG9wIDMgcmVhc29uc1xuICB9XG5cbiAgYXN5bmMgc2F2ZU1hdGNoKHVzZXJJZDogc3RyaW5nLCBtYXRjaGVkVXNlcklkOiBzdHJpbmcsIHNjb3JlOiBudW1iZXIsIHJlYXNvbnM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYXRjaGVzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICB1c2VyMV9pZDogdXNlcklkLFxuICAgICAgICB1c2VyMl9pZDogbWF0Y2hlZFVzZXJJZCxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIHVzZXIxX2xpa2VkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG1hdGNoOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufSAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIk1hdGNoaW5nRW5naW5lIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImxvYWRVc2VyUHJvZmlsZXMiLCJkYXRhIiwicHJvZmlsZXMiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJjb25zb2xlIiwidXNlclByb2ZpbGVzIiwiY2xlYXIiLCJmb3JFYWNoIiwicHJvZmlsZSIsInNldCIsImlkIiwiZmluZE1hdGNoZXMiLCJ1c2VySWQiLCJsaW1pdCIsInJlZnJlc2hUb2tlbiIsInByZWZlcmVuY2VzIiwidXNlclByb2ZpbGUiLCJnZXQiLCJFcnJvciIsIm1hdGNoZXMiLCJleGNsdWRlZFVzZXJzIiwiZ2V0RXhjbHVkZWRVc2VycyIsIm90aGVyVXNlcklkIiwib3RoZXJQcm9maWxlIiwiQXJyYXkiLCJlbnRyaWVzIiwiaGFzIiwicGFzc2VzUHJlZmVyZW5jZUZpbHRlcnMiLCJzY29yZSIsImNhbGN1bGF0ZUNvbXBhdGliaWxpdHlTY29yZSIsInJlYXNvbnMiLCJnZW5lcmF0ZU1hdGNoUmVhc29ucyIsImNvbXBhdGliaWxpdHlGYWN0b3JzIiwiY2FsY3VsYXRlQ29tcGF0aWJpbGl0eUZhY3RvcnMiLCJjb21tb25JbnRlcmVzdHMiLCJmaW5kQ29tbW9uSW50ZXJlc3RzIiwibWF0Y2hTdHJlbmd0aCIsImRldGVybWluZU1hdGNoU3RyZW5ndGgiLCJjb252ZXJzYXRpb25TdGFydGVycyIsImdlbmVyYXRlQ29udmVyc2F0aW9uU3RhcnRlcnMiLCJwdXNoIiwidXNlciIsImNvbXBhdGliaWxpdHlfZmFjdG9ycyIsImNvbW1vbl9pbnRlcmVzdHMiLCJtYXRjaF9zdHJlbmd0aCIsImNvbnZlcnNhdGlvbl9zdGFydGVycyIsInNvcnRlZE1hdGNoZXMiLCJzb3J0IiwiYSIsImIiLCJhcHBseVJlZnJlc2hWYXJpZXR5Iiwic2xpY2UiLCJleGNsdWRlZCIsIlNldCIsIm9yIiwibWF0Y2giLCJ1c2VyMV9pZCIsImFkZCIsInVzZXIyX2lkIiwiYWdlX21pbiIsImFnZSIsImFnZV9tYXgiLCJnZW5kZXJfcHJlZmVyZW5jZSIsImxlbmd0aCIsImdlbmRlciIsImluY2x1ZGVzIiwibG9jYXRpb25fcmFkaXVzIiwibG9jYXRpb24iLCJkZWFsX2JyZWFrZXJzIiwicHJvZmlsZUludGVyZXN0cyIsImludGVyZXN0cyIsIm1hcCIsImkiLCJ0b0xvd2VyQ2FzZSIsImhhc0RlYWxCcmVha2VyIiwic29tZSIsImRlYWxCcmVha2VyIiwidXNlcjEiLCJ1c2VyMiIsImZhY3RvcnMiLCJ3ZWlnaHRzIiwicGVyc29uYWxpdHkiLCJpbmR1c3RyeSIsImNvbW11bmljYXRpb24iLCJhY3Rpdml0eSIsInZhbHVlcyIsInRvdGFsU2NvcmUiLCJ0b3RhbFdlaWdodCIsIk9iamVjdCIsImZhY3RvciIsIndlaWdodCIsImFpRW5oYW5jZW1lbnQiLCJjYWxjdWxhdGVBSUVuaGFuY2VtZW50IiwiZW5oYW5jZW1lbnQiLCJpc19vbmxpbmUiLCJpc19wcmVtaXVtIiwiaXNfdmVyaWZpZWQiLCJsYXN0X3NlZW4iLCJsYXN0U2VlbiIsIkRhdGUiLCJub3ciLCJob3Vyc1NpbmNlTGFzdFNlZW4iLCJnZXRUaW1lIiwiTWF0aCIsIm1pbiIsImNhbGN1bGF0ZUludGVyZXN0c0NvbXBhdGliaWxpdHkiLCJjYWxjdWxhdGVQZXJzb25hbGl0eUNvbXBhdGliaWxpdHkiLCJjYWxjdWxhdGVMb2NhdGlvbkNvbXBhdGliaWxpdHkiLCJjYWxjdWxhdGVJbmR1c3RyeUNvbXBhdGliaWxpdHkiLCJjYWxjdWxhdGVDb21tdW5pY2F0aW9uQ29tcGF0aWJpbGl0eSIsImNhbGN1bGF0ZUFjdGl2aXR5Q29tcGF0aWJpbGl0eSIsImNhbGN1bGF0ZVZhbHVlc0NvbXBhdGliaWxpdHkiLCJpbnRlcmVzdHMxIiwiaW50ZXJlc3RzMiIsImludGVyZXN0czFBcnJheSIsImludGVyZXN0czJBcnJheSIsImludGVyc2VjdGlvbiIsImZpbHRlciIsIngiLCJ1bmlvbiIsImRpcmVjdFNjb3JlIiwic2l6ZSIsImNhdGVnb3J5U2NvcmUiLCJjYXRlZ29yeU1hdGNoZXMiLCJpbnRlcmVzdENhdGVnb3JpZXMiLCJjYXRlZ29yeSIsImtleXdvcmRzIiwidXNlcjFJbkNhdGVnb3J5Iiwia2V5d29yZCIsImludGVyZXN0IiwidXNlcjJJbkNhdGVnb3J5IiwiY2F0ZWdvcnlDb21wYXRpYmlsaXR5IiwidHJhaXRzMSIsInBlcnNvbmFsaXR5X3RyYWl0cyIsInRyYWl0czIiLCJjb21tb25UcmFpdHMiLCJrZXlzIiwidHJhaXQiLCJoYXNPd25Qcm9wZXJ0eSIsImFuYWx5emVQZXJzb25hbGl0eUZyb21CaW8iLCJ0b3RhbFNpbWlsYXJpdHkiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJzaW1pbGFyaXR5IiwiYWJzIiwibWF4IiwiYmlvMSIsImJpbyIsImJpbzIiLCJjb21wYXRpYmlsaXR5IiwicGVyc29uYWxpdHlLZXl3b3JkcyIsInVzZXIxSGFzVHJhaXQiLCJ1c2VyMkhhc1RyYWl0IiwiaGFzVHJhaXQiLCJpbnRyb3ZlcnQiLCJjcmVhdGl2ZSIsImxvY2F0aW9uMSIsImxvY2F0aW9uMiIsImNvdW50cnkxIiwic3BsaXQiLCJwb3AiLCJ0cmltIiwiY291bnRyeTIiLCJjb250aW5lbnRzIiwibm9ydGhfYW1lcmljYSIsImV1cm9wZSIsImFzaWEiLCJjb250aW5lbnQiLCJjb3VudHJpZXMiLCJjIiwiaW5kdXN0cnlHcm91cHMiLCJ0ZWNoIiwiZmluYW5jZSIsImhlYWx0aGNhcmUiLCJlZHVjYXRpb24iLCJidXNpbmVzcyIsImxlZ2FsIiwibm9ucHJvZml0IiwiZmluZEluZHVzdHJ5R3JvdXAiLCJsb3dlckluZHVzdHJ5IiwiZ3JvdXAiLCJncm91cDEiLCJncm91cDIiLCJjb21wbGVtZW50YXJ5UGFpcnMiLCJwYWlyIiwic3R5bGVzIiwic3R5bGUxIiwiY29tbXVuaWNhdGlvbl9zdHlsZSIsInN0eWxlMiIsInZhbHVlS2V5d29yZHMiLCJzdXN0YWluYWJpbGl0eSIsImNvbW11bml0eSIsImxlYXJuaW5nIiwiY3JlYXRpdml0eSIsImhlYWx0aCIsImFkdmVudHVyZSIsInNoYXJlZFZhbHVlcyIsInRvdGFsVmFsdWVzIiwidmFsdWUiLCJ1c2VyMUhhc1ZhbHVlIiwidXNlcjJIYXNWYWx1ZSIsInN0YXJ0ZXJzIiwiYmlvV29yZHMiLCJqb2luIiwic2VlZCIsImhhc2hTdHJpbmciLCJzaHVmZmxlZCIsImoiLCJib29zdGVkIiwiaW5kZXgiLCJzdHIiLCJoYXNoIiwiY2hhciIsImNoYXJDb2RlQXQiLCJzYXZlTWF0Y2giLCJtYXRjaGVkVXNlcklkIiwiaW5zZXJ0Iiwic3RhdHVzIiwidXNlcjFfbGlrZWRfYXQiLCJ0b0lTT1N0cmluZyIsIk1hcCIsImV4dHJvdmVydCIsImFuYWx5dGljYWwiLCJlbXBhdGhldGljIiwiYW1iaXRpb3VzIiwiYWR2ZW50dXJvdXMiLCJwcmFjdGljYWwiLCJ0ZWNobm9sb2d5Iiwic3BvcnRzIiwiYXJ0cyIsInRyYXZlbCIsImZvb2QiLCJuYXR1cmUiLCJzb2NpYWwiLCJlbnRlcnRhaW5tZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/matching/engine.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmatching%2Fcandidates%2Froute&page=%2Fapi%2Fmatching%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmatching%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac-guest1%2FDownloads%2FGit%2Fmvp_projects%2Fmvp_1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();