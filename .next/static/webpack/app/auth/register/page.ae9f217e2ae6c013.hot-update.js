"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/auth/register/page",{

/***/ "(app-pages-browser)/./app/providers/AuthProvider.tsx":
/*!****************************************!*\
  !*** ./app/providers/AuthProvider.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Mock user for testing when Supabase is not configured\nconst MOCK_USER = {\n    id: \"mock-user-id-123\",\n    email: \"test@personalink.ai\",\n    user_metadata: {\n        full_name: \"Test User\",\n        avatar_url: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face\"\n    },\n    app_metadata: {},\n    aud: \"authenticated\",\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    email_confirmed_at: new Date().toISOString(),\n    last_sign_in_at: new Date().toISOString(),\n    role: \"authenticated\",\n    identities: []\n};\nconst MOCK_SESSION = {\n    access_token: \"mock-access-token\",\n    refresh_token: \"mock-refresh-token\",\n    expires_in: 3600,\n    expires_at: Math.floor(Date.now() / 1000) + 3600,\n    token_type: \"bearer\",\n    user: MOCK_USER\n};\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Check if we're in mock mode (no Supabase config)\n    const isMockMode =  false || !\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhbXJhdGV4a25tcXZkYmFsemVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTM4NzEsImV4cCI6MjA2ODA4OTg3MX0.yYa98ioJLLouUgHWITGb7U_VjNCTUuM-5NcraM7f3zA\";\n    // Memoize Supabase client to prevent recreation\n    const supabase = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (isMockMode) {\n            // Return a mock client\n            return {\n                auth: {\n                    getSession: async ()=>({\n                            data: {\n                                session: null\n                            },\n                            error: null\n                        }),\n                    signInWithPassword: async ()=>({\n                            data: {\n                                session: null,\n                                user: null\n                            },\n                            error: null\n                        }),\n                    signUp: async ()=>({\n                            data: {\n                                session: null,\n                                user: null\n                            },\n                            error: null\n                        }),\n                    signInWithOAuth: async ()=>({\n                            data: {\n                                session: null,\n                                user: null\n                            },\n                            error: null\n                        }),\n                    signInWithOtp: async ()=>({\n                            data: {\n                                session: null,\n                                user: null\n                            },\n                            error: null\n                        }),\n                    verifyOtp: async ()=>({\n                            data: {\n                                session: null,\n                                user: null\n                            },\n                            error: null\n                        }),\n                    signOut: async ()=>({\n                            error: null\n                        }),\n                    resetPasswordForEmail: async ()=>({\n                            data: null,\n                            error: null\n                        }),\n                    updateUser: async ()=>({\n                            data: {\n                                user: null\n                            },\n                            error: null\n                        }),\n                    onAuthStateChange: ()=>({\n                            data: {\n                                subscription: {\n                                    unsubscribe: ()=>{}\n                                }\n                            }\n                        }),\n                    functions: {\n                        invoke: async ()=>({\n                                data: null,\n                                error: null\n                            })\n                    }\n                },\n                from: ()=>({\n                        select: ()=>({\n                                eq: ()=>({\n                                        single: async ()=>({\n                                                data: null,\n                                                error: null\n                                            })\n                                    })\n                            }),\n                        upsert: async ()=>({\n                                data: null,\n                                error: null\n                            })\n                    })\n            };\n        }\n        return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__.createClient)(\"https://bamratexknmqvdbalzen.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhbXJhdGV4a25tcXZkYmFsemVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTM4NzEsImV4cCI6MjA2ODA4OTg3MX0.yYa98ioJLLouUgHWITGb7U_VjNCTUuM-5NcraM7f3zA\");\n    }, [\n        isMockMode\n    ]);\n    // Memoize captureUserMetadata to prevent recreation\n    const captureUserMetadata = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (user)=>{\n        if (isMockMode) {\n            console.log(\"Mock mode: Skipping user metadata capture\");\n            return;\n        }\n        try {\n            var _user_user_metadata, _user_user_metadata1, _user_user_metadata2;\n            // Only capture metadata on first sign in, not on every auth state change\n            const { data: existingProfile } = await supabase.from(\"profiles\").select(\"id\").eq(\"id\", user.id).single();\n            if (existingProfile) {\n                // User already has a profile, skip metadata capture\n                return;\n            }\n            // Only fetch geo data if we don't have a profile yet\n            const response = await fetch(\"https://ipapi.co/json/\");\n            const geoData = await response.json();\n            await supabase.from(\"profiles\").upsert({\n                id: user.id,\n                email: user.email,\n                full_name: ((_user_user_metadata = user.user_metadata) === null || _user_user_metadata === void 0 ? void 0 : _user_user_metadata.full_name) || ((_user_user_metadata1 = user.user_metadata) === null || _user_user_metadata1 === void 0 ? void 0 : _user_user_metadata1.name),\n                avatar_url: (_user_user_metadata2 = user.user_metadata) === null || _user_user_metadata2 === void 0 ? void 0 : _user_user_metadata2.avatar_url,\n                updated_at: new Date().toISOString(),\n                device_info: {\n                    user_agent: navigator.userAgent,\n                    platform: navigator.platform,\n                    language: navigator.language\n                },\n                location_info: {\n                    ip: geoData.ip,\n                    country: geoData.country_name,\n                    region: geoData.region,\n                    city: geoData.city,\n                    timezone: geoData.timezone\n                }\n            });\n        } catch (error) {\n            console.error(\"Error capturing user metadata:\", error);\n        }\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        // Get initial session\n        const getInitialSession = async ()=>{\n            try {\n                if (isMockMode) {\n                    // In mock mode, check localStorage for mock session\n                    const mockSession = localStorage.getItem(\"mock-session\");\n                    if (mockSession && mounted) {\n                        setSession(MOCK_SESSION);\n                        setUser(MOCK_USER);\n                        setLoading(false);\n                        return;\n                    }\n                }\n                const { data: { session } } = await supabase.auth.getSession();\n                if (mounted) {\n                    setSession(session);\n                    var _session_user;\n                    setUser((_session_user = session === null || session === void 0 ? void 0 : session.user) !== null && _session_user !== void 0 ? _session_user : null);\n                    setLoading(false);\n                }\n            } catch (error) {\n                console.error(\"Error getting initial session:\", error);\n                if (mounted) {\n                    setLoading(false);\n                }\n            }\n        };\n        getInitialSession();\n        // Listen for auth changes\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session)=>{\n            if (!mounted) return;\n            setSession(session);\n            var _session_user;\n            setUser((_session_user = session === null || session === void 0 ? void 0 : session.user) !== null && _session_user !== void 0 ? _session_user : null);\n            setLoading(false);\n            // Only capture metadata on SIGNED_IN event\n            if (event === \"SIGNED_IN\" && (session === null || session === void 0 ? void 0 : session.user)) {\n                // Use setTimeout to avoid blocking the auth state change\n                setTimeout(()=>{\n                    captureUserMetadata(session.user);\n                }, 0);\n            }\n        });\n        return ()=>{\n            mounted = false;\n            subscription.unsubscribe();\n        };\n    }, [\n        supabase,\n        captureUserMetadata,\n        isMockMode\n    ]);\n    // Memoize all auth functions to prevent unnecessary re-renders\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (email, password)=>{\n        if (isMockMode) {\n            // Mock authentication\n            if (email === \"test@personalink.ai\" && password === \"test123\") {\n                setSession(MOCK_SESSION);\n                setUser(MOCK_USER);\n                localStorage.setItem(\"mock-session\", \"true\");\n                return {\n                    error: null\n                };\n            } else {\n                return {\n                    error: {\n                        message: \"Invalid email or password\"\n                    }\n                };\n            }\n        }\n        const { error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const signUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (email, password, fullName)=>{\n        if (isMockMode) {\n            // Mock registration\n            const mockNewUser = {\n                ...MOCK_USER,\n                id: \"mock-user-\".concat(Date.now()),\n                email,\n                user_metadata: {\n                    full_name: fullName\n                }\n            };\n            setSession({\n                ...MOCK_SESSION,\n                user: mockNewUser\n            });\n            setUser(mockNewUser);\n            localStorage.setItem(\"mock-session\", \"true\");\n            return {\n                error: null\n            };\n        }\n        const { error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: {\n                    full_name: fullName\n                }\n            }\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const signInWithGoogle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"Google sign-in not available in mock mode\"\n                }\n            };\n        }\n        const { error } = await supabase.auth.signInWithOAuth({\n            provider: \"google\",\n            options: {\n                redirectTo: \"\".concat(window.location.origin, \"/auth/callback\")\n            }\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const signInWithPhone = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (phone)=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"Phone sign-in not available in mock mode\"\n                }\n            };\n        }\n        const { error } = await supabase.auth.signInWithOtp({\n            phone\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const verifyPhoneOTP = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (phone, token)=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"Phone verification not available in mock mode\"\n                }\n            };\n        }\n        const { error } = await supabase.auth.verifyOtp({\n            phone,\n            token,\n            type: \"sms\"\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (isMockMode) {\n            setSession(null);\n            setUser(null);\n            localStorage.removeItem(\"mock-session\");\n            router.push(\"/\");\n            return;\n        }\n        await supabase.auth.signOut();\n        router.push(\"/\");\n    }, [\n        supabase,\n        router,\n        isMockMode\n    ]);\n    const resetPassword = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (email)=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"Password reset not available in mock mode\"\n                }\n            };\n        }\n        const { error } = await supabase.auth.resetPasswordForEmail(email, {\n            redirectTo: \"\".concat(window.location.origin, \"/auth/update-password\")\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const updatePassword = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (password)=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"Password update not available in mock mode\"\n                }\n            };\n        }\n        const { error } = await supabase.auth.updateUser({\n            password\n        });\n        return {\n            error\n        };\n    }, [\n        supabase,\n        isMockMode\n    ]);\n    const enable2FA = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"2FA not available in mock mode\"\n                }\n            };\n        }\n        try {\n            const { data, error } = await supabase.functions.invoke(\"enable-2fa\", {\n                body: {\n                    userId: user === null || user === void 0 ? void 0 : user.id\n                }\n            });\n            return {\n                error,\n                data\n            };\n        } catch (error) {\n            return {\n                error: {\n                    message: \"Failed to enable 2FA\"\n                }\n            };\n        }\n    }, [\n        supabase,\n        user,\n        isMockMode\n    ]);\n    const verify2FA = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (token)=>{\n        if (isMockMode) {\n            return {\n                error: {\n                    message: \"2FA verification not available in mock mode\"\n                }\n            };\n        }\n        try {\n            const { data, error } = await supabase.functions.invoke(\"verify-2fa\", {\n                body: {\n                    userId: user === null || user === void 0 ? void 0 : user.id,\n                    token\n                }\n            });\n            return {\n                error,\n                data\n            };\n        } catch (error) {\n            return {\n                error: {\n                    message: \"Failed to verify 2FA\"\n                }\n            };\n        }\n    }, [\n        supabase,\n        user,\n        isMockMode\n    ]);\n    const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            user,\n            session,\n            loading,\n            signIn,\n            signUp,\n            signInWithGoogle,\n            signInWithPhone,\n            verifyPhoneOTP,\n            signOut,\n            resetPassword,\n            updatePassword,\n            enable2FA,\n            verify2FA,\n            supabase\n        }), [\n        user,\n        session,\n        loading,\n        signIn,\n        signUp,\n        signInWithGoogle,\n        signInWithPhone,\n        verifyPhoneOTP,\n        signOut,\n        resetPassword,\n        updatePassword,\n        enable2FA,\n        verify2FA,\n        supabase\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/providers/AuthProvider.tsx\",\n        lineNumber: 385,\n        columnNumber: 5\n    }, this);\n}\n_s(AuthProvider, \"ZOcBe9pimLdSFwSHk4aurI6Dzsc=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AuthProvider;\nfunction useAuth() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wcm92aWRlcnMvQXV0aFByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRTZGO0FBQ1Q7QUFDeEM7QUFtQjVDLE1BQU1RLDRCQUFjUixvREFBYUEsQ0FBOEJTO0FBRS9ELHdEQUF3RDtBQUN4RCxNQUFNQyxZQUFrQjtJQUN0QkMsSUFBSTtJQUNKQyxPQUFPO0lBQ1BDLGVBQWU7UUFDYkMsV0FBVztRQUNYQyxZQUFZO0lBQ2Q7SUFDQUMsY0FBYyxDQUFDO0lBQ2ZDLEtBQUs7SUFDTEMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO0lBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7SUFDbENFLG9CQUFvQixJQUFJSCxPQUFPQyxXQUFXO0lBQzFDRyxpQkFBaUIsSUFBSUosT0FBT0MsV0FBVztJQUN2Q0ksTUFBTTtJQUNOQyxZQUFZLEVBQUU7QUFDaEI7QUFFQSxNQUFNQyxlQUF3QjtJQUM1QkMsY0FBYztJQUNkQyxlQUFlO0lBQ2ZDLFlBQVk7SUFDWkMsWUFBWUMsS0FBS0MsS0FBSyxDQUFDYixLQUFLYyxHQUFHLEtBQUssUUFBUTtJQUM1Q0MsWUFBWTtJQUNaQyxNQUFNekI7QUFDUjtBQUVPLFNBQVMwQixhQUFhLEtBQTJDO1FBQTNDLEVBQUVDLFFBQVEsRUFBaUMsR0FBM0M7O0lBQzNCLE1BQU0sQ0FBQ0YsTUFBTUcsUUFBUSxHQUFHbkMsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDb0MsU0FBU0MsV0FBVyxHQUFHckMsK0NBQVFBLENBQWlCO0lBQ3ZELE1BQU0sQ0FBQ3NDLFNBQVNDLFdBQVcsR0FBR3ZDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU13QyxTQUFTcEMsMERBQVNBO0lBRXhCLG1EQUFtRDtJQUNuRCxNQUFNcUMsYUFBYSxNQUFxQyxJQUFJLENBQUNDLGtOQUF5QztJQUV0RyxnREFBZ0Q7SUFDaEQsTUFBTUksV0FBVzdDLDhDQUFPQSxDQUFDO1FBQ3ZCLElBQUl3QyxZQUFZO1lBQ2Qs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Z0JBQUVoRTtnQkFBT0Q7WUFBSztRQUN2QixFQUFFLE9BQU9DLE9BQU87WUFDZCxPQUFPO2dCQUFFQSxPQUFPO29CQUFFbUQsU0FBUztnQkFBdUI7WUFBRTtRQUN0RDtJQUNGLEdBQUc7UUFBQ3ZEO1FBQVVkO1FBQU1TO0tBQVc7SUFFL0IsTUFBTW1GLFFBQVEzSCw4Q0FBT0EsQ0FBQyxJQUFPO1lBQzNCK0I7WUFDQUk7WUFDQUU7WUFDQTREO1lBQ0E5QztZQUNBcUQ7WUFDQU07WUFDQUU7WUFDQXpEO1lBQ0E4RDtZQUNBQztZQUNBQztZQUNBRztZQUNBN0U7UUFDRixJQUFJO1FBQ0ZkO1FBQ0FJO1FBQ0FFO1FBQ0E0RDtRQUNBOUM7UUFDQXFEO1FBQ0FNO1FBQ0FFO1FBQ0F6RDtRQUNBOEQ7UUFDQUM7UUFDQUM7UUFDQUc7UUFDQTdFO0tBQ0Q7SUFFRCxxQkFDRSw4REFBQ3pDLFlBQVl3SCxRQUFRO1FBQUNELE9BQU9BO2tCQUMxQjFGOzs7Ozs7QUFHUDtHQWhWZ0JEOztRQUlDN0Isc0RBQVNBOzs7S0FKVjZCO0FBa1ZULFNBQVM2Rjs7SUFDZCxNQUFNQyxVQUFVakksaURBQVVBLENBQUNPO0lBQzNCLElBQUkwSCxZQUFZekgsV0FBVztRQUN6QixNQUFNLElBQUkwSCxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtJQU5nQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL3Byb3ZpZGVycy9BdXRoUHJvdmlkZXIudHN4P2EwMTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCwgU3VwYWJhc2VDbGllbnQsIFVzZXIsIFNlc3Npb24gfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XG4gIHVzZXI6IFVzZXIgfCBudWxsO1xuICBzZXNzaW9uOiBTZXNzaW9uIHwgbnVsbDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgc2lnbkluOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx7IGVycm9yOiBhbnkgfT47XG4gIHNpZ25VcDogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIGZ1bGxOYW1lOiBzdHJpbmcpID0+IFByb21pc2U8eyBlcnJvcjogYW55IH0+O1xuICBzaWduSW5XaXRoR29vZ2xlOiAoKSA9PiBQcm9taXNlPHsgZXJyb3I6IGFueSB9PjtcbiAgc2lnbkluV2l0aFBob25lOiAocGhvbmU6IHN0cmluZykgPT4gUHJvbWlzZTx7IGVycm9yOiBhbnkgfT47XG4gIHZlcmlmeVBob25lT1RQOiAocGhvbmU6IHN0cmluZywgdG9rZW46IHN0cmluZykgPT4gUHJvbWlzZTx7IGVycm9yOiBhbnkgfT47XG4gIHNpZ25PdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc2V0UGFzc3dvcmQ6IChlbWFpbDogc3RyaW5nKSA9PiBQcm9taXNlPHsgZXJyb3I6IGFueSB9PjtcbiAgdXBkYXRlUGFzc3dvcmQ6IChwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHsgZXJyb3I6IGFueSB9PjtcbiAgZW5hYmxlMkZBOiAoKSA9PiBQcm9taXNlPHsgZXJyb3I6IGFueTsgZGF0YT86IGFueSB9PjtcbiAgdmVyaWZ5MkZBOiAodG9rZW46IHN0cmluZykgPT4gUHJvbWlzZTx7IGVycm9yOiBhbnkgfT47XG4gIHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudDtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuLy8gTW9jayB1c2VyIGZvciB0ZXN0aW5nIHdoZW4gU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWRcbmNvbnN0IE1PQ0tfVVNFUjogVXNlciA9IHtcbiAgaWQ6ICdtb2NrLXVzZXItaWQtMTIzJyxcbiAgZW1haWw6ICd0ZXN0QHBlcnNvbmFsaW5rLmFpJyxcbiAgdXNlcl9tZXRhZGF0YToge1xuICAgIGZ1bGxfbmFtZTogJ1Rlc3QgVXNlcicsXG4gICAgYXZhdGFyX3VybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDcyMDk5NjQ1Nzg1LTU2NThhYmY0ZmY0ZT93PTE1MCZoPTE1MCZmaXQ9Y3JvcCZjcm9wPWZhY2UnXG4gIH0sXG4gIGFwcF9tZXRhZGF0YToge30sXG4gIGF1ZDogJ2F1dGhlbnRpY2F0ZWQnLFxuICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgZW1haWxfY29uZmlybWVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIGxhc3Rfc2lnbl9pbl9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICByb2xlOiAnYXV0aGVudGljYXRlZCcsXG4gIGlkZW50aXRpZXM6IFtdXG59O1xuXG5jb25zdCBNT0NLX1NFU1NJT046IFNlc3Npb24gPSB7XG4gIGFjY2Vzc190b2tlbjogJ21vY2stYWNjZXNzLXRva2VuJyxcbiAgcmVmcmVzaF90b2tlbjogJ21vY2stcmVmcmVzaC10b2tlbicsXG4gIGV4cGlyZXNfaW46IDM2MDAsXG4gIGV4cGlyZXNfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgMzYwMCxcbiAgdG9rZW5fdHlwZTogJ2JlYXJlcicsXG4gIHVzZXI6IE1PQ0tfVVNFUlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nlc3Npb24sIHNldFNlc3Npb25dID0gdXNlU3RhdGU8U2Vzc2lvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gbW9jayBtb2RlIChubyBTdXBhYmFzZSBjb25maWcpXG4gIGNvbnN0IGlzTW9ja01vZGUgPSAhcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8ICFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcblxuICAvLyBNZW1vaXplIFN1cGFiYXNlIGNsaWVudCB0byBwcmV2ZW50IHJlY3JlYXRpb25cbiAgY29uc3Qgc3VwYWJhc2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoaXNNb2NrTW9kZSkge1xuICAgICAgLy8gUmV0dXJuIGEgbW9jayBjbGllbnRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICBnZXRTZXNzaW9uOiBhc3luYyAoKSA9PiAoeyBkYXRhOiB7IHNlc3Npb246IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXG4gICAgICAgICAgc2lnbkluV2l0aFBhc3N3b3JkOiBhc3luYyAoKSA9PiAoeyBkYXRhOiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXG4gICAgICAgICAgc2lnblVwOiBhc3luYyAoKSA9PiAoeyBkYXRhOiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXG4gICAgICAgICAgc2lnbkluV2l0aE9BdXRoOiBhc3luYyAoKSA9PiAoeyBkYXRhOiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXG4gICAgICAgICAgc2lnbkluV2l0aE90cDogYXN5bmMgKCkgPT4gKHsgZGF0YTogeyBzZXNzaW9uOiBudWxsLCB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgICAgIHZlcmlmeU90cDogYXN5bmMgKCkgPT4gKHsgZGF0YTogeyBzZXNzaW9uOiBudWxsLCB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgICAgIHNpZ25PdXQ6IGFzeW5jICgpID0+ICh7IGVycm9yOiBudWxsIH0pLFxuICAgICAgICAgIHJlc2V0UGFzc3dvcmRGb3JFbWFpbDogYXN5bmMgKCkgPT4gKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSksXG4gICAgICAgICAgdXBkYXRlVXNlcjogYXN5bmMgKCkgPT4gKHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgICAgIG9uQXV0aFN0YXRlQ2hhbmdlOiAoKSA9PiAoeyBkYXRhOiB7IHN1YnNjcmlwdGlvbjogeyB1bnN1YnNjcmliZTogKCkgPT4ge30gfSB9IH0pLFxuICAgICAgICAgIGZ1bmN0aW9uczoge1xuICAgICAgICAgICAgaW52b2tlOiBhc3luYyAoKSA9PiAoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnJvbTogKCkgPT4gKHtcbiAgICAgICAgICBzZWxlY3Q6ICgpID0+ICh7IGVxOiAoKSA9PiAoeyBzaW5nbGU6IGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pIH0pIH0pLFxuICAgICAgICAgIHVwc2VydDogYXN5bmMgKCkgPT4gKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gYXMgYW55O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY3JlYXRlQ2xpZW50KFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuICAgICk7XG4gIH0sIFtpc01vY2tNb2RlXSk7XG5cbiAgLy8gTWVtb2l6ZSBjYXB0dXJlVXNlck1ldGFkYXRhIHRvIHByZXZlbnQgcmVjcmVhdGlvblxuICBjb25zdCBjYXB0dXJlVXNlck1ldGFkYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXI6IFVzZXIpID0+IHtcbiAgICBpZiAoaXNNb2NrTW9kZSkge1xuICAgICAgY29uc29sZS5sb2coJ01vY2sgbW9kZTogU2tpcHBpbmcgdXNlciBtZXRhZGF0YSBjYXB0dXJlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE9ubHkgY2FwdHVyZSBtZXRhZGF0YSBvbiBmaXJzdCBzaWduIGluLCBub3Qgb24gZXZlcnkgYXV0aCBzdGF0ZSBjaGFuZ2VcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChleGlzdGluZ1Byb2ZpbGUpIHtcbiAgICAgICAgLy8gVXNlciBhbHJlYWR5IGhhcyBhIHByb2ZpbGUsIHNraXAgbWV0YWRhdGEgY2FwdHVyZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgZmV0Y2ggZ2VvIGRhdGEgaWYgd2UgZG9uJ3QgaGF2ZSBhIHByb2ZpbGUgeWV0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2lwYXBpLmNvL2pzb24vJyk7XG4gICAgICBjb25zdCBnZW9EYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdwcm9maWxlcycpLnVwc2VydCh7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgZnVsbF9uYW1lOiB1c2VyLnVzZXJfbWV0YWRhdGE/LmZ1bGxfbmFtZSB8fCB1c2VyLnVzZXJfbWV0YWRhdGE/Lm5hbWUsXG4gICAgICAgIGF2YXRhcl91cmw6IHVzZXIudXNlcl9tZXRhZGF0YT8uYXZhdGFyX3VybCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBkZXZpY2VfaW5mbzoge1xuICAgICAgICAgIHVzZXJfYWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICBsYW5ndWFnZTogbmF2aWdhdG9yLmxhbmd1YWdlLFxuICAgICAgICB9LFxuICAgICAgICBsb2NhdGlvbl9pbmZvOiB7XG4gICAgICAgICAgaXA6IGdlb0RhdGEuaXAsXG4gICAgICAgICAgY291bnRyeTogZ2VvRGF0YS5jb3VudHJ5X25hbWUsXG4gICAgICAgICAgcmVnaW9uOiBnZW9EYXRhLnJlZ2lvbixcbiAgICAgICAgICBjaXR5OiBnZW9EYXRhLmNpdHksXG4gICAgICAgICAgdGltZXpvbmU6IGdlb0RhdGEudGltZXpvbmUsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYXB0dXJpbmcgdXNlciBtZXRhZGF0YTonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbc3VwYWJhc2UsIGlzTW9ja01vZGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcblxuICAgIC8vIEdldCBpbml0aWFsIHNlc3Npb25cbiAgICBjb25zdCBnZXRJbml0aWFsU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChpc01vY2tNb2RlKSB7XG4gICAgICAgICAgLy8gSW4gbW9jayBtb2RlLCBjaGVjayBsb2NhbFN0b3JhZ2UgZm9yIG1vY2sgc2Vzc2lvblxuICAgICAgICAgIGNvbnN0IG1vY2tTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vY2stc2Vzc2lvbicpO1xuICAgICAgICAgIGlmIChtb2NrU2Vzc2lvbiAmJiBtb3VudGVkKSB7XG4gICAgICAgICAgICBzZXRTZXNzaW9uKE1PQ0tfU0VTU0lPTik7XG4gICAgICAgICAgICBzZXRVc2VyKE1PQ0tfVVNFUik7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgIHNldFVzZXIoc2Vzc2lvbj8udXNlciA/PyBudWxsKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbml0aWFsIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICBpZiAobW91bnRlZCkge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGdldEluaXRpYWxTZXNzaW9uKCk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGF1dGggY2hhbmdlc1xuICAgIGNvbnN0IHsgZGF0YTogeyBzdWJzY3JpcHRpb24gfSB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShcbiAgICAgIGFzeW5jIChldmVudDogc3RyaW5nLCBzZXNzaW9uOiBTZXNzaW9uIHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcblxuICAgICAgICBzZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICBzZXRVc2VyKHNlc3Npb24/LnVzZXIgPz8gbnVsbCk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgIC8vIE9ubHkgY2FwdHVyZSBtZXRhZGF0YSBvbiBTSUdORURfSU4gZXZlbnRcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnU0lHTkVEX0lOJyAmJiBzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gYXZvaWQgYmxvY2tpbmcgdGhlIGF1dGggc3RhdGUgY2hhbmdlXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYXB0dXJlVXNlck1ldGFkYXRhKHNlc3Npb24udXNlcik7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQgPSBmYWxzZTtcbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtzdXBhYmFzZSwgY2FwdHVyZVVzZXJNZXRhZGF0YSwgaXNNb2NrTW9kZV0pO1xuXG4gIC8vIE1lbW9pemUgYWxsIGF1dGggZnVuY3Rpb25zIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xuICBjb25zdCBzaWduSW4gPSB1c2VDYWxsYmFjayhhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChpc01vY2tNb2RlKSB7XG4gICAgICAvLyBNb2NrIGF1dGhlbnRpY2F0aW9uXG4gICAgICBpZiAoZW1haWwgPT09ICd0ZXN0QHBlcnNvbmFsaW5rLmFpJyAmJiBwYXNzd29yZCA9PT0gJ3Rlc3QxMjMnKSB7XG4gICAgICAgIHNldFNlc3Npb24oTU9DS19TRVNTSU9OKTtcbiAgICAgICAgc2V0VXNlcihNT0NLX1VTRVIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9jay1zZXNzaW9uJywgJ3RydWUnKTtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiB7IG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyB9IH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICB9KTtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9LCBbc3VwYWJhc2UsIGlzTW9ja01vZGVdKTtcblxuICBjb25zdCBzaWduVXAgPSB1c2VDYWxsYmFjayhhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgZnVsbE5hbWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChpc01vY2tNb2RlKSB7XG4gICAgICAvLyBNb2NrIHJlZ2lzdHJhdGlvblxuICAgICAgY29uc3QgbW9ja05ld1VzZXIgPSB7XG4gICAgICAgIC4uLk1PQ0tfVVNFUixcbiAgICAgICAgaWQ6IGBtb2NrLXVzZXItJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICB1c2VyX21ldGFkYXRhOiB7IGZ1bGxfbmFtZTogZnVsbE5hbWUgfVxuICAgICAgfTtcbiAgICAgIHNldFNlc3Npb24oeyAuLi5NT0NLX1NFU1NJT04sIHVzZXI6IG1vY2tOZXdVc2VyIH0pO1xuICAgICAgc2V0VXNlcihtb2NrTmV3VXNlcik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9jay1zZXNzaW9uJywgJ3RydWUnKTtcbiAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGZ1bGxfbmFtZTogZnVsbE5hbWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH0sIFtzdXBhYmFzZSwgaXNNb2NrTW9kZV0pO1xuXG4gIGNvbnN0IHNpZ25JbldpdGhHb29nbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzTW9ja01vZGUpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiB7IG1lc3NhZ2U6ICdHb29nbGUgc2lnbi1pbiBub3QgYXZhaWxhYmxlIGluIG1vY2sgbW9kZScgfSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aE9BdXRoKHtcbiAgICAgIHByb3ZpZGVyOiAnZ29vZ2xlJyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcmVkaXJlY3RUbzogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXV0aC9jYWxsYmFja2AsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH0sIFtzdXBhYmFzZSwgaXNNb2NrTW9kZV0pO1xuXG4gIGNvbnN0IHNpZ25JbldpdGhQaG9uZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChwaG9uZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGlzTW9ja01vZGUpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiB7IG1lc3NhZ2U6ICdQaG9uZSBzaWduLWluIG5vdCBhdmFpbGFibGUgaW4gbW9jayBtb2RlJyB9IH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoT3RwKHtcbiAgICAgIHBob25lLFxuICAgIH0pO1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH0sIFtzdXBhYmFzZSwgaXNNb2NrTW9kZV0pO1xuXG4gIGNvbnN0IHZlcmlmeVBob25lT1RQID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBob25lOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaXNNb2NrTW9kZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHsgbWVzc2FnZTogJ1Bob25lIHZlcmlmaWNhdGlvbiBub3QgYXZhaWxhYmxlIGluIG1vY2sgbW9kZScgfSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgudmVyaWZ5T3RwKHtcbiAgICAgIHBob25lLFxuICAgICAgdG9rZW4sXG4gICAgICB0eXBlOiAnc21zJyxcbiAgICB9KTtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9LCBbc3VwYWJhc2UsIGlzTW9ja01vZGVdKTtcblxuICBjb25zdCBzaWduT3V0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc01vY2tNb2RlKSB7XG4gICAgICBzZXRTZXNzaW9uKG51bGwpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdtb2NrLXNlc3Npb24nKTtcbiAgICAgIHJvdXRlci5wdXNoKCcvJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG4gICAgcm91dGVyLnB1c2goJy8nKTtcbiAgfSwgW3N1cGFiYXNlLCByb3V0ZXIsIGlzTW9ja01vZGVdKTtcblxuICBjb25zdCByZXNldFBhc3N3b3JkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGVtYWlsOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaXNNb2NrTW9kZSkge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHsgbWVzc2FnZTogJ1Bhc3N3b3JkIHJlc2V0IG5vdCBhdmFpbGFibGUgaW4gbW9jayBtb2RlJyB9IH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwoZW1haWwsIHtcbiAgICAgIHJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2F1dGgvdXBkYXRlLXBhc3N3b3JkYCxcbiAgICB9KTtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9LCBbc3VwYWJhc2UsIGlzTW9ja01vZGVdKTtcblxuICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGlzTW9ja01vZGUpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiB7IG1lc3NhZ2U6ICdQYXNzd29yZCB1cGRhdGUgbm90IGF2YWlsYWJsZSBpbiBtb2NrIG1vZGUnIH0gfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnVwZGF0ZVVzZXIoe1xuICAgICAgcGFzc3dvcmQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfSwgW3N1cGFiYXNlLCBpc01vY2tNb2RlXSk7XG5cbiAgY29uc3QgZW5hYmxlMkZBID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc01vY2tNb2RlKSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogeyBtZXNzYWdlOiAnMkZBIG5vdCBhdmFpbGFibGUgaW4gbW9jayBtb2RlJyB9IH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZ1bmN0aW9ucy5pbnZva2UoJ2VuYWJsZS0yZmEnLCB7XG4gICAgICAgIGJvZHk6IHsgdXNlcklkOiB1c2VyPy5pZCB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBlcnJvciwgZGF0YSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGVuYWJsZSAyRkEnIH0gfTtcbiAgICB9XG4gIH0sIFtzdXBhYmFzZSwgdXNlciwgaXNNb2NrTW9kZV0pO1xuXG4gIGNvbnN0IHZlcmlmeTJGQSA9IHVzZUNhbGxiYWNrKGFzeW5jICh0b2tlbjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGlzTW9ja01vZGUpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiB7IG1lc3NhZ2U6ICcyRkEgdmVyaWZpY2F0aW9uIG5vdCBhdmFpbGFibGUgaW4gbW9jayBtb2RlJyB9IH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZ1bmN0aW9ucy5pbnZva2UoJ3ZlcmlmeS0yZmEnLCB7XG4gICAgICAgIGJvZHk6IHsgdXNlcklkOiB1c2VyPy5pZCwgdG9rZW4gfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgZXJyb3IsIGRhdGEgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byB2ZXJpZnkgMkZBJyB9IH07XG4gICAgfVxuICB9LCBbc3VwYWJhc2UsIHVzZXIsIGlzTW9ja01vZGVdKTtcblxuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICB1c2VyLFxuICAgIHNlc3Npb24sXG4gICAgbG9hZGluZyxcbiAgICBzaWduSW4sXG4gICAgc2lnblVwLFxuICAgIHNpZ25JbldpdGhHb29nbGUsXG4gICAgc2lnbkluV2l0aFBob25lLFxuICAgIHZlcmlmeVBob25lT1RQLFxuICAgIHNpZ25PdXQsXG4gICAgcmVzZXRQYXNzd29yZCxcbiAgICB1cGRhdGVQYXNzd29yZCxcbiAgICBlbmFibGUyRkEsXG4gICAgdmVyaWZ5MkZBLFxuICAgIHN1cGFiYXNlLFxuICB9KSwgW1xuICAgIHVzZXIsXG4gICAgc2Vzc2lvbixcbiAgICBsb2FkaW5nLFxuICAgIHNpZ25JbixcbiAgICBzaWduVXAsXG4gICAgc2lnbkluV2l0aEdvb2dsZSxcbiAgICBzaWduSW5XaXRoUGhvbmUsXG4gICAgdmVyaWZ5UGhvbmVPVFAsXG4gICAgc2lnbk91dCxcbiAgICByZXNldFBhc3N3b3JkLFxuICAgIHVwZGF0ZVBhc3N3b3JkLFxuICAgIGVuYWJsZTJGQSxcbiAgICB2ZXJpZnkyRkEsXG4gICAgc3VwYWJhc2UsXG4gIF0pO1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufSAiXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZU1lbW8iLCJ1c2VDYWxsYmFjayIsImNyZWF0ZUNsaWVudCIsInVzZVJvdXRlciIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiTU9DS19VU0VSIiwiaWQiLCJlbWFpbCIsInVzZXJfbWV0YWRhdGEiLCJmdWxsX25hbWUiLCJhdmF0YXJfdXJsIiwiYXBwX21ldGFkYXRhIiwiYXVkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJlbWFpbF9jb25maXJtZWRfYXQiLCJsYXN0X3NpZ25faW5fYXQiLCJyb2xlIiwiaWRlbnRpdGllcyIsIk1PQ0tfU0VTU0lPTiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hfdG9rZW4iLCJleHBpcmVzX2luIiwiZXhwaXJlc19hdCIsIk1hdGgiLCJmbG9vciIsIm5vdyIsInRva2VuX3R5cGUiLCJ1c2VyIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzZXRVc2VyIiwic2Vzc2lvbiIsInNldFNlc3Npb24iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJvdXRlciIsImlzTW9ja01vZGUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImF1dGgiLCJnZXRTZXNzaW9uIiwiZGF0YSIsImVycm9yIiwic2lnbkluV2l0aFBhc3N3b3JkIiwic2lnblVwIiwic2lnbkluV2l0aE9BdXRoIiwic2lnbkluV2l0aE90cCIsInZlcmlmeU90cCIsInNpZ25PdXQiLCJyZXNldFBhc3N3b3JkRm9yRW1haWwiLCJ1cGRhdGVVc2VyIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsImZ1bmN0aW9ucyIsImludm9rZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsInVwc2VydCIsImNhcHR1cmVVc2VyTWV0YWRhdGEiLCJjb25zb2xlIiwibG9nIiwiZXhpc3RpbmdQcm9maWxlIiwicmVzcG9uc2UiLCJmZXRjaCIsImdlb0RhdGEiLCJqc29uIiwibmFtZSIsImRldmljZV9pbmZvIiwidXNlcl9hZ2VudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBsYXRmb3JtIiwibGFuZ3VhZ2UiLCJsb2NhdGlvbl9pbmZvIiwiaXAiLCJjb3VudHJ5IiwiY291bnRyeV9uYW1lIiwicmVnaW9uIiwiY2l0eSIsInRpbWV6b25lIiwibW91bnRlZCIsImdldEluaXRpYWxTZXNzaW9uIiwibW9ja1Nlc3Npb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXZlbnQiLCJzZXRUaW1lb3V0Iiwic2lnbkluIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwibWVzc2FnZSIsImZ1bGxOYW1lIiwibW9ja05ld1VzZXIiLCJvcHRpb25zIiwic2lnbkluV2l0aEdvb2dsZSIsInByb3ZpZGVyIiwicmVkaXJlY3RUbyIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwic2lnbkluV2l0aFBob25lIiwicGhvbmUiLCJ2ZXJpZnlQaG9uZU9UUCIsInRva2VuIiwidHlwZSIsInJlbW92ZUl0ZW0iLCJwdXNoIiwicmVzZXRQYXNzd29yZCIsInVwZGF0ZVBhc3N3b3JkIiwiZW5hYmxlMkZBIiwiYm9keSIsInVzZXJJZCIsInZlcmlmeTJGQSIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VBdXRoIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/providers/AuthProvider.tsx\n"));

/***/ })

});