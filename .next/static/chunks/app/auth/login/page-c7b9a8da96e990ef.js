(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{683:function(e,t,r){Promise.resolve().then(r.bind(r,6663))},6663:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(7437),a=r(2265),i=r(4033),n=r(1396),l=r.n(n),o=r(3611),d=r(5831),c=r(9598),u=r(1750),p=r(4620),m=r(446),f=r(2851),h=r(1295),x=r(2741),b=r(5589),g=r(7216),v=r(9670),w=r(9036);function y(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[y,N]=(0,a.useState)(""),[j,k]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[E,T]=(0,a.useState)(""),[Z,z]=(0,a.useState)(""),[R,P]=(0,a.useState)("email"),[I,M]=(0,a.useState)(!1),[V,D]=(0,a.useState)(!1),_=(0,a.useRef)(!1),A=(0,i.useRouter)(),{signIn:B,signInWithGoogle:L,signInWithPhone:q,verifyPhoneOTP:F,user:H}=(0,p.a)(),{toast:O}=(0,m.p)();(0,a.useEffect)(()=>{let t=setTimeout(()=>{!H||V||_.current||e?!H&&(V||_.current)&&(D(!1),_.current=!1):(D(!0),_.current=!0,window.location.href="/dashboard")},100);return()=>clearTimeout(t)},[H,A,e,V]),(0,a.useEffect)(()=>{H&&e&&t(!1)},[H,e]);let Y=async e=>{if(e.preventDefault(),t(!0),!j||!C){O({title:"Error",description:"Please fill in all fields",variant:"destructive"}),t(!1);return}if(C.length<6){O({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"}),t(!1);return}try{let{error:e}=await B(j,C);if(e)O({title:"Login failed",description:e.message,variant:"destructive"}),t(!1);else{O({title:"Success",description:"Welcome back!"}),D(!0),_.current=!0,setTimeout(()=>{window.location.href="/dashboard"},500);{let e=()=>{window.location.href="/dashboard"};setTimeout(()=>{let t=document.getElementById("manual-redirect-btn");if(!t){let t=document.createElement("button");t.id="manual-redirect-btn",t.textContent="Manual Redirect to Dashboard",t.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: #ff6b6b;\n                color: white;\n                border: none;\n                padding: 10px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                z-index: 9999;\n                font-size: 14px;\n              ",t.onclick=e,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},1e4)}},1e3)}setTimeout(()=>{V||_.current||(D(!0),_.current=!0,window.location.href="/dashboard"),t(!1)},2e3)}}catch(e){O({title:"Error",description:"An unexpected error occurred",variant:"destructive"}),t(!1)}},G=async()=>{t(!0);try{let{error:e}=await L();e?O({title:"Google sign-in failed",description:e.message,variant:"destructive"}):O({title:"Success",description:"Welcome! Redirecting to dashboard..."})}catch(e){O({title:"Error",description:"An unexpected error occurred during Google sign-in",variant:"destructive"})}finally{t(!1)}},W=async e=>{if(e.preventDefault(),t(!0),!E||E.length<10){O({title:"Error",description:"Please enter a valid phone number",variant:"destructive"}),t(!1);return}try{let{error:e}=await q(E);e?(O({title:"Phone sign-in not available",description:e.message,variant:"destructive"}),t(!1)):(n(!0),N(E),O({title:"Mock Mode",description:"In mock mode, enter any 6-digit code"}))}catch(e){O({title:"Error",description:"Phone sign-in is not available in mock mode",variant:"destructive"}),t(!1)}},J=async e=>{if(e.preventDefault(),t(!0),!Z||6!==Z.length){O({title:"Error",description:"Please enter a valid 6-digit code",variant:"destructive"}),t(!1);return}try{O({title:"Success",description:"Phone verification successful!"});let{error:e}=await B("test@personalink.ai","test123")}catch(e){O({title:"Error",description:"An unexpected error occurred",variant:"destructive"}),t(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),(0,s.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),(0,s.jsx)("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,s.jsxs)(c.Zb,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:[(0,s.jsxs)(c.Ol,{className:"text-center space-y-4 pb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg",children:(0,s.jsx)(f.Z,{className:"h-8 w-8 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"PersonaLink"})]}),(0,s.jsx)(c.ll,{className:"text-3xl font-bold text-white mb-2",children:"Welcome back"}),(0,s.jsx)(c.SZ,{className:"text-white text-lg font-medium drop-shadow-sm",children:"Sign in to your account and start connecting"})]}),(0,s.jsxs)(c.aY,{className:"space-y-6",children:[(0,s.jsxs)(o.z,{type:"button",onClick:G,variant:"outline",className:"w-full bg-white text-gray-700 border-gray-300 hover:bg-gray-50 font-medium py-3 rounded-lg shadow-sm transition-all duration-300",disabled:e,children:[(0,s.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"or"})})]}),(0,s.jsxs)(u.Tabs,{value:R,onValueChange:P,className:"w-full",children:[(0,s.jsxs)(u.TabsList,{className:"grid w-full grid-cols-2 bg-white/10 backdrop-blur-sm border border-white/20",children:[(0,s.jsxs)(u.TabsTrigger,{value:"email",className:"text-white bg-white/20 hover:bg-white/30 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 border border-white/30",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Email"]}),(0,s.jsxs)(u.TabsTrigger,{value:"phone",className:"text-white bg-white/20 hover:bg-white/30 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 border border-white/30",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Phone"]})]}),(0,s.jsxs)(u.TabsContent,{value:"email",className:"space-y-6 mt-6",children:[(0,s.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(h.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-400 transition-colors"})}),(0,s.jsx)(d.I,{type:"email",placeholder:"Enter your email",value:j,onChange:e=>k(e.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",required:!0,disabled:e,autoComplete:"email"})]})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(b.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-400 transition-colors"})}),(0,s.jsx)(d.I,{type:I?"text":"password",placeholder:"Enter your password",value:C,onChange:e=>S(e.target.value),className:"pl-10 pr-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",required:!0,disabled:e,autoComplete:"current-password"}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-purple-400 transition-colors",onClick:()=>M(!I),tabIndex:-1,children:I?(0,s.jsx)(g.Z,{className:"h-5 w-5"}):(0,s.jsx)(v.Z,{className:"h-5 w-5"})})]})}),(0,s.jsx)(o.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e,children:e?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Signing in..."})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(w.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Sign in"})]})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(l(),{href:"/auth/forgot-password",className:"text-sm text-purple-300 hover:text-purple-200 transition-colors duration-200 underline-offset-4 hover:underline",children:"Forgot your password?"})})]}),(0,s.jsx)(u.TabsContent,{value:"phone",className:"space-y-6 mt-6",children:r?(0,s.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(d.I,{type:"text",placeholder:"Enter 6-digit code",value:Z,onChange:e=>z(e.target.value),maxLength:6,className:"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg text-center text-lg font-mono",required:!0,disabled:e})}),(0,s.jsx)(o.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e,children:e?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Verifying..."})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(w.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Verify code"})]})}),(0,s.jsx)(o.z,{type:"button",variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 transition-all duration-300",onClick:()=>{n(!1),z("")},disabled:e,children:"Back to phone number"})]}):(0,s.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(x.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-400 transition-colors"})}),(0,s.jsx)(d.I,{type:"tel",placeholder:"Enter your phone number",value:E,onChange:e=>T(e.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",required:!0,disabled:e,autoComplete:"tel"})]})}),(0,s.jsx)(o.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e,children:e?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Sending SMS..."})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Send verification code"})]})})]})})]}),(0,s.jsx)("div",{className:"text-center pt-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-300",children:["Don't have an account?"," ",(0,s.jsx)(l(),{href:"/auth/register",className:"text-purple-300 hover:text-purple-200 transition-colors duration-200 underline-offset-4 hover:underline font-medium",children:"Sign up"})]})})]})]})})]})}},9598:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return o}});var s=r(7437),a=r(2265),i=r(1628);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},5831:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(7437),a=r(2265),i=r(1628);let n=a.forwardRef((e,t)=>{let{className:r,type:a,label:n,error:l,icon:o,description:d,...c}=e;return(0,s.jsxs)("div",{className:"w-full space-y-1",children:[n&&(0,s.jsx)("label",{className:"block text-sm font-medium text-foreground",children:n}),(0,s.jsxs)("div",{className:"relative",children:[o&&(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o}),(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",o?"pl-10":"",l?"border-destructive focus-visible:ring-destructive/30":"",r),ref:t,...c})]}),d&&!l&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:d}),l&&(0,s.jsx)("p",{className:"text-xs text-destructive",children:l})]})});n.displayName="Input"},1750:function(e,t,r){"use strict";r.r(t),r.d(t,{Tabs:function(){return l},TabsContent:function(){return c},TabsList:function(){return o},TabsTrigger:function(){return d}});var s=r(7437),a=r(2265),i=r(7094),n=r(1628);let l=i.fC,o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});o.displayName=i.aV.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});d.displayName=i.xz.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});c.displayName=i.VY.displayName},446:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var s=r(1271);let a=s.pm}},function(e){e.O(0,[216,689,744],function(){return e(e.s=683)}),_N_E=e.O()}]);