(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{9899:function(e,t,s){Promise.resolve().then(s.bind(s,829))},829:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var r=s(7437),a=s(2265),l=s(4033),i=s(1396),n=s.n(i),o=s(1865),d=s(8110),c=s(2160),u=s(3611),m=s(5831),p=s(9598),h=s(1750),x=s(4620),f=s(446),b=s(3008),g=s(3067),v=s(2851),w=s(1295),N=s(2741),j=s(9036);let y=c.Ry({email:c.Z_().email("Invalid email address")});function k(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[c,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(""),[R,Z]=(0,a.useState)(""),[T,E]=(0,a.useState)(""),[z,P]=(0,a.useState)("email"),I=(0,l.useRouter)(),{resetPassword:V,signInWithPhone:_,verifyPhoneOTP:O}=(0,x.a)(),{toast:Y}=(0,f.p)(),D=(0,o.cI)({resolver:(0,d.F)(y)}),L=async e=>{t(!0);try{let{error:t}=await V(e.email);t?Y({title:"Reset failed",description:t.message,variant:"destructive"}):(i(!0),Y({title:"Reset email sent",description:"Check your email for password reset instructions"}))}catch(e){Y({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{t(!1)}},A=async e=>{if(e.preventDefault(),t(!0),!R||R.length<10){Y({title:"Error",description:"Please enter a valid phone number",variant:"destructive"}),t(!1);return}try{let{error:e}=await _(R);e?(Y({title:"Phone reset not available",description:e.message,variant:"destructive"}),t(!1)):(k(!0),S(R),Y({title:"Mock Mode",description:"In mock mode, enter any 6-digit code"}))}catch(e){Y({title:"Error",description:"Phone reset is not available in mock mode",variant:"destructive"}),t(!1)}},B=async e=>{if(e.preventDefault(),t(!0),!T||6!==T.length){Y({title:"Error",description:"Please enter a valid 6-digit code",variant:"destructive"}),t(!1);return}try{Y({title:"Success",description:"Phone verification successful! Redirecting to password reset..."}),setTimeout(()=>{I.push("/auth/update-password")},2e3)}catch(e){Y({title:"Error",description:"An unexpected error occurred",variant:"destructive"}),t(!1)}};return s?(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),(0,r.jsx)("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),(0,r.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,r.jsxs)(p.Zb,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:[(0,r.jsxs)(p.Ol,{className:"text-center space-y-4 pb-8",children:[(0,r.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-green-500 to-emerald-500 shadow-glow",children:(0,r.jsx)(b.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)(p.ll,{className:"text-3xl font-bold text-white mb-2",children:"Check your email"}),(0,r.jsx)(p.SZ,{className:"text-gray-300 text-lg",children:"We've sent you a password reset link to complete the process"})]}),(0,r.jsxs)(p.aY,{className:"text-center space-y-6",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["Didn't receive the email? Check your spam folder or"," ",(0,r.jsx)("button",{onClick:()=>i(!1),className:"text-purple-300 hover:text-purple-200 transition-colors duration-200 underline-offset-4 hover:underline",children:"try again"})]}),(0,r.jsx)(n(),{href:"/auth/login",children:(0,r.jsxs)(u.z,{variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 transition-all duration-300",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Back to login"]})})]})]})})]}):(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),(0,r.jsx)("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),(0,r.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,r.jsxs)(p.Zb,{className:"backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl",children:[(0,r.jsxs)(p.Ol,{className:"text-center space-y-4 pb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[(0,r.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg",children:(0,r.jsx)(v.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"PersonaLink"})]}),(0,r.jsx)(p.ll,{className:"text-3xl font-bold text-white mb-2",children:"Reset password"}),(0,r.jsx)(p.SZ,{className:"text-white text-lg font-medium drop-shadow-sm",children:"Choose how you'd like to reset your password"})]}),(0,r.jsxs)(p.aY,{className:"space-y-6",children:[(0,r.jsxs)(h.Tabs,{value:z,onValueChange:P,className:"w-full",children:[(0,r.jsxs)(h.TabsList,{className:"grid w-full grid-cols-2 bg-white/10 backdrop-blur-sm border border-white/20",children:[(0,r.jsxs)(h.TabsTrigger,{value:"email",className:"text-white bg-white/20 hover:bg-white/30 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 border border-white/30",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Email"]}),(0,r.jsxs)(h.TabsTrigger,{value:"phone",className:"text-white bg-white/20 hover:bg-white/30 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300 border border-white/30",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Phone"]})]}),(0,r.jsx)(h.TabsContent,{value:"email",className:"space-y-6 mt-6",children:(0,r.jsxs)("form",{onSubmit:D.handleSubmit(L),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(w.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-400 transition-colors"})}),(0,r.jsx)(m.I,{...D.register("email"),type:"email",placeholder:"Enter your email address",className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",autoComplete:"email"})]}),D.formState.errors.email&&(0,r.jsx)("p",{className:"text-sm text-red-400",children:D.formState.errors.email.message})]}),(0,r.jsx)(u.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e,children:e?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Sending..."})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Send reset link"})]})})]})}),(0,r.jsx)(h.TabsContent,{value:"phone",className:"space-y-6 mt-6",children:c?(0,r.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Enter the 6-digit code sent to ",(0,r.jsx)("span",{className:"font-medium text-white",children:C})]}),(0,r.jsx)("div",{className:"flex items-center justify-center space-x-2",children:(0,r.jsx)(m.I,{type:"text",placeholder:"000000",value:T,onChange:e=>E(e.target.value),className:"w-32 h-12 text-center text-lg font-mono bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",maxLength:6,autoComplete:"one-time-code",disabled:e})}),(0,r.jsx)(u.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e||6!==T.length,children:e?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Verifying..."})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Verify code"})]})})]}),(0,r.jsx)(u.z,{type:"button",variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 transition-all duration-300",onClick:()=>{k(!1),E("")},disabled:e,children:"Back to phone number"})]}):(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(N.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-400 transition-colors"})}),(0,r.jsx)(m.I,{type:"tel",placeholder:"Enter your phone number",value:R,onChange:e=>Z(e.target.value),className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-purple-500 focus:ring-purple-500/50 focus:bg-white transition-all duration-300 shadow-lg",required:!0,disabled:e,autoComplete:"tel"})]}),R.length>0&&R.length<10&&(0,r.jsx)("p",{className:"text-sm text-red-400",children:"Please enter a valid 10-digit phone number."})]}),(0,r.jsx)(u.z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:e,children:e?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Sending code..."})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Send verification code"})]})})]})})]}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:["Remember your password?"," ",(0,r.jsx)(n(),{href:"/auth/login",className:"text-purple-300 hover:text-purple-200 transition-colors duration-200 underline-offset-4 hover:underline font-medium",children:"Sign in"})]})})]})]})})]})}},9598:function(e,t,s){"use strict";s.d(t,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var r=s(7437),a=s(2265),l=s(1628);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},5831:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),a=s(2265),l=s(1628);let i=a.forwardRef((e,t)=>{let{className:s,type:a,label:i,error:n,icon:o,description:d,...c}=e;return(0,r.jsxs)("div",{className:"w-full space-y-1",children:[i&&(0,r.jsx)("label",{className:"block text-sm font-medium text-foreground",children:i}),(0,r.jsxs)("div",{className:"relative",children:[o&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o}),(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",o?"pl-10":"",n?"border-destructive focus-visible:ring-destructive/30":"",s),ref:t,...c})]}),d&&!n&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:d}),n&&(0,r.jsx)("p",{className:"text-xs text-destructive",children:n})]})});i.displayName="Input"},1750:function(e,t,s){"use strict";s.r(t),s.d(t,{Tabs:function(){return n},TabsContent:function(){return c},TabsList:function(){return o},TabsTrigger:function(){return d}});var r=s(7437),a=s(2265),l=s(7094),i=s(1628);let n=l.fC,o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});o.displayName=l.aV.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});d.displayName=l.xz.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});c.displayName=l.VY.displayName},446:function(e,t,s){"use strict";s.d(t,{p:function(){return a}});var r=s(1271);let a=r.pm}},function(e){e.O(0,[216,689,744],function(){return e(e.s=9899)}),_N_E=e.O()}]);