(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{5587:function(e,s,r){Promise.resolve().then(r.bind(r,2537))},2537:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return g}});var a=r(7437),t=r(2265),n=r(4033),l=r(1396),c=r.n(l),d=r(1865),i=r(8110),o=r(2160),m=r(3611),u=r(5831),x=r(9598),h=r(4620),w=r(446),f=r(3008),p=r(3067),j=r(5589);let N=o.Ry({password:o.Z_().min(8,"Password must be at least 8 characters"),confirmPassword:o.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function g(){let[e,s]=(0,t.useState)(!1),[r,l]=(0,t.useState)(!1);(0,n.useRouter)(),(0,n.useSearchParams)();let{updatePassword:o}=(0,h.a)(),{toast:g}=(0,w.p)(),b=(0,d.cI)({resolver:(0,i.F)(N)});(0,t.useEffect)(()=>{let e=async()=>{};e()},[]);let y=async e=>{s(!0);try{let{error:s}=await o(e.password);s?g({title:"Update failed",description:s.message,variant:"destructive"}):(l(!0),g({title:"Password updated",description:"Your password has been successfully updated"}))}catch(e){g({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{s(!1)}};return r?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,a.jsxs)(x.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(x.Ol,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)(f.Z,{className:"h-6 w-6 text-green-600"})}),(0,a.jsx)(x.ll,{className:"text-2xl font-bold",children:"Password Updated"}),(0,a.jsx)(x.SZ,{children:"Your password has been successfully updated. You can now sign in with your new password."})]}),(0,a.jsx)(x.aY,{className:"text-center",children:(0,a.jsx)(c(),{href:"/auth/login",children:(0,a.jsxs)(m.z,{className:"w-full",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Sign in"]})})})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,a.jsxs)(x.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(x.Ol,{className:"text-center",children:[(0,a.jsx)(x.ll,{className:"text-2xl font-bold",children:"Update Password"}),(0,a.jsx)(x.SZ,{children:"Enter your new password below"})]}),(0,a.jsxs)(x.aY,{children:[(0,a.jsxs)("form",{onSubmit:b.handleSubmit(y),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.I,{...b.register("password"),type:"password",placeholder:"New password",icon:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),b.formState.errors.password&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:b.formState.errors.password.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.I,{...b.register("confirmPassword"),type:"password",placeholder:"Confirm new password",icon:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),b.formState.errors.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:b.formState.errors.confirmPassword.message})]}),(0,a.jsx)(m.z,{type:"submit",className:"w-full",disabled:e,children:e?"Updating...":"Update password"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",(0,a.jsx)(c(),{href:"/auth/login",className:"text-blue-600 hover:underline",children:"Sign in"})]})})]})]})})}}},function(e){e.O(0,[216,58,744],function(){return e(e.s=5587)}),_N_E=e.O()}]);