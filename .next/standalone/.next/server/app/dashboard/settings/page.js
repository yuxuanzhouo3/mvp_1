(()=>{var e={};e.id=3455,e.ids=[3455],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},94426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>d});var r=t(67096),a=t(16132),i=t(37284),n=t.n(i),l=t(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41917)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15581)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3102)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/not-found.tsx"]}],o=["/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/settings/page.tsx"],u="/dashboard/settings/page",h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},61611:(e,s,t)=>{Promise.resolve().then(t.bind(t,81706))},81706:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(53854),a=t(34218),i=t(51018),n=t(86665),l=t(31974),c=t(63165),d=t(7857),o=t(78011),u=t(32629),h=t(11273),x=t(2882),p=t(13092),m=t(41871),g=t(89471),f=t(34212),j=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,j.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var y=t(80962);function b(){let e=(0,i.useRouter)(),{user:s,signOut:t}=(0,n.a)(),{toast:j}=(0,l.p)(),[b,w]=(0,a.useState)({notifications:{newMatches:!0,messages:!0,weeklyDigest:!1},privacy:{profileVisibility:"public",showOnlineStatus:!0,allowMessages:!0},preferences:{language:"zh-CN",theme:"auto",timezone:"Asia/Shanghai"}}),[k,N]=(0,a.useState)(!1),[_,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=setTimeout(()=>{if(S(!0),!s){e.replace("/auth/login");return}},500);return()=>clearTimeout(t)},[s,e]);let C=async()=>{N(!0);try{await new Promise(e=>setTimeout(e,1e3)),j({title:"设置已保存",description:"您的设置已成功更新"})}catch(e){j({title:"保存失败",description:"无法保存设置，请稍后重试",variant:"destructive"})}finally{N(!1)}},q=async()=>{try{await t(),e.push("/"),j({title:"已退出登录",description:"期待您的再次光临！"})}catch(e){j({title:"退出失败",description:"请稍后重试",variant:"destructive"})}};return _?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"flex items-center space-x-2",children:[r.jsx(x.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"返回"})]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"设置"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"管理您的账户和偏好设置"})]})]}),(0,r.jsxs)(d.z,{onClick:C,disabled:k,children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),k?"保存中...":"保存设置"]})]}),(0,r.jsxs)(c.Zb,{className:"mb-8",children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"个人资料"})]}),r.jsx(c.SZ,{children:"管理您的个人信息和头像"})]}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(h.qE,{className:"h-16 w-16",children:[r.jsx(h.F$,{src:s?.user_metadata?.avatar_url}),r.jsx(h.Q5,{children:s?.user_metadata?.full_name?.[0]||s?.email?.[0]||"U"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:s?.user_metadata?.full_name||s?.email}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s?.email})]}),r.jsx(d.z,{variant:"outline",children:"编辑资料"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[r.jsx(g.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"通知设置"})]}),r.jsx(c.SZ,{children:"管理您接收的通知类型"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o._,{htmlFor:"new-matches",children:"新匹配通知"}),r.jsx(u.r,{id:"new-matches",checked:b.notifications.newMatches,onCheckedChange:e=>w(s=>({...s,notifications:{...s.notifications,newMatches:e}}))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o._,{htmlFor:"messages",children:"消息通知"}),r.jsx(u.r,{id:"messages",checked:b.notifications.messages,onCheckedChange:e=>w(s=>({...s,notifications:{...s.notifications,messages:e}}))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o._,{htmlFor:"weekly-digest",children:"每周摘要"}),r.jsx(u.r,{id:"weekly-digest",checked:b.notifications.weeklyDigest,onCheckedChange:e=>w(s=>({...s,notifications:{...s.notifications,weeklyDigest:e}}))})]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[r.jsx(f.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"隐私设置"})]}),r.jsx(c.SZ,{children:"控制您的隐私和可见性"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o._,{htmlFor:"online-status",children:"显示在线状态"}),r.jsx(u.r,{id:"online-status",checked:b.privacy.showOnlineStatus,onCheckedChange:e=>w(s=>({...s,privacy:{...s.privacy,showOnlineStatus:e}}))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o._,{htmlFor:"allow-messages",children:"允许接收消息"}),r.jsx(u.r,{id:"allow-messages",checked:b.privacy.allowMessages,onCheckedChange:e=>w(s=>({...s,privacy:{...s.privacy,allowMessages:e}}))})]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[r.jsx(v,{className:"h-5 w-5"}),r.jsx("span",{children:"偏好设置"})]}),r.jsx(c.SZ,{children:"自定义您的使用体验"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(o._,{htmlFor:"language",children:"语言"}),(0,r.jsxs)("select",{id:"language",value:b.preferences.language,onChange:e=>w(s=>({...s,preferences:{...s.preferences,language:e.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700",children:[r.jsx("option",{value:"zh-CN",children:"中文 (简体)"}),r.jsx("option",{value:"en-US",children:"English"})]})]}),(0,r.jsxs)("div",{children:[r.jsx(o._,{htmlFor:"theme",children:"主题"}),(0,r.jsxs)("select",{id:"theme",value:b.preferences.theme,onChange:e=>w(s=>({...s,preferences:{...s.preferences,theme:e.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700",children:[r.jsx("option",{value:"auto",children:"跟随系统"}),r.jsx("option",{value:"light",children:"浅色"}),r.jsx("option",{value:"dark",children:"深色"})]})]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[r.jsx(y.Z,{className:"h-5 w-5"}),r.jsx("span",{children:"账户管理"})]}),r.jsx(c.SZ,{children:"管理您的账户设置"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[r.jsx(d.z,{variant:"outline",className:"w-full",children:"更改密码"}),r.jsx(d.z,{variant:"outline",className:"w-full",children:"删除账户"}),r.jsx(d.z,{variant:"destructive",className:"w-full",onClick:q,children:"退出登录"})]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48 animate-pulse"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-4 animate-pulse"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 animate-pulse"}),r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-12 animate-pulse"})]},e))})]},e))})]})})})}},78011:(e,s,t)=>{"use strict";t.d(s,{_:()=>o});var r=t(53854),a=t(34218),i=t(59280),n=a.forwardRef((e,s)=>(0,r.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{let t=s.target;t.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=t(82457),c=t(56370);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...s},t)=>r.jsx(n,{ref:t,className:(0,c.cn)(d(),e),...s}));o.displayName=n.displayName},32629:(e,s,t)=>{"use strict";t.d(s,{r:()=>k});var r=t(53854),a=t(34218),i=t(64667),n=t(81951),l=t(65864),c=t(76026),d=t(50024),o=t(5440),u=t(59280),h="Switch",[x,p]=(0,l.b)(h),[m,g]=x(h),f=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:l,checked:d,defaultChecked:o,required:x,disabled:p,value:g="on",onCheckedChange:f,form:j,...v}=e,[w,k]=a.useState(null),N=(0,n.e)(s,e=>k(e)),_=a.useRef(!1),S=!w||j||!!w.closest("form"),[C,q]=(0,c.T)({prop:d,defaultProp:o??!1,onChange:f,caller:h});return(0,r.jsxs)(m,{scope:t,checked:C,disabled:p,children:[(0,r.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":x,"data-state":b(C),"data-disabled":p?"":void 0,disabled:p,value:g,...v,ref:N,onClick:(0,i.M)(e.onClick,e=>{q(e=>!e),S&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),S&&(0,r.jsx)(y,{control:w,bubbles:!_.current,name:l,value:g,checked:C,required:x,disabled:p,form:j,style:{transform:"translateX(-100%)"}})]})});f.displayName=h;var j="SwitchThumb",v=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,i=g(j,t);return(0,r.jsx)(u.WV.span,{"data-state":b(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});v.displayName=j;var y=a.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:i=!0,...l},c)=>{let u=a.useRef(null),h=(0,n.e)(u,c),x=(0,d.D)(t),p=(0,o.t)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let s=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(s,"checked"),a=r.set;if(x!==t&&a){let s=new Event("click",{bubbles:i});a.call(e,t),e.dispatchEvent(s)}},[x,t,i]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...l,tabIndex:-1,ref:h,style:{...l.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var w=t(56370);let k=a.forwardRef(({className:e,...s},t)=>r.jsx(f,{className:(0,w.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:r.jsx(v,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform","data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k.displayName=f.displayName},13092:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},34212:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},41871:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},41917:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/settings/page.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,c=l},50024:(e,s,t)=>{"use strict";t.d(s,{D:()=>a});var r=t(34218);function a(e){let s=r.useRef({value:e,previous:e});return r.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},5440:(e,s,t)=>{"use strict";t.d(s,{t:()=>i});var r=t(34218),a=t(76223);function i(e){let[s,t]=r.useState(void 0);return(0,a.b)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let r,a;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;r=s.inlineSize,a=s.blockSize}else r=e.offsetWidth,a=e.offsetHeight;t({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}t(void 0)},[e]),s}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3271,5359,7583,9864],()=>t(94426));module.exports=r})();