exports.id=9864,exports.ids=[9864],exports.modules={30056:(e,t,r)=>{Promise.resolve().then(r.bind(r,67671))},67671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(53854),a=r(34218),l=r(51018),n=r(86665),i=r(75548),d=r.n(i),o=r(56370),c=r(7857),u=r(11273),m=r(31974),f=r(88640),h=r(49425),x=r(67510),p=r(85096),v=r(10518),g=r(89471),y=r(76652);let j=[{name:"Dashboard",href:"/dashboard",icon:f.Z},{name:"Chat",href:"/chat",icon:h.Z},{name:"Matching",href:"/matching",icon:x.Z},{name:"Recharge",href:"/payment/recharge",icon:p.Z},{name:"Settings",href:"/dashboard/settings",icon:v.Z}],w=({user:e})=>{let[t,r]=(0,a.useState)(!0),i=(0,l.usePathname)();(0,l.useRouter)();let{signOut:f}=(0,n.a)(),{toast:h}=(0,m.p)(),x=async()=>{try{await f(),window.location.href="/auth/login",h({title:"已退出登录",description:"期待您的再次光临！"})}catch(e){h({title:"退出失败",description:"请稍后重试",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:()=>r(e=>!e),className:"absolute -left-12 top-4 z-50 p-2 rounded-md bg-background border shadow-md hover:bg-muted focus:outline-none transition-colors",title:t?"收起侧边栏":"展开侧边栏",children:t?s.jsx("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):s.jsx("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsxs)("div",{className:`flex flex-col ${t?"w-64":"w-20"} bg-background border-r transition-all duration-200`,children:[s.jsx("div",{className:"flex items-center justify-center h-16 border-b px-4",children:s.jsx("h1",{className:`text-xl font-bold text-primary transition-opacity duration-200 ${t?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:"PersonaLink"})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[s.jsx("nav",{className:"flex-1 px-2 py-6 space-y-2",children:j.map(e=>{let r=i===e.href;return(0,s.jsxs)(d(),{href:e.href,className:(0,o.cn)("flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[s.jsx(e.icon,{className:"h-5 w-5"}),t&&s.jsx("span",{className:"ml-3",children:e.name})]},e.name)})}),(0,s.jsxs)("div",{className:`border-t p-2 ${t?"":"flex flex-col items-center"}`,children:[(0,s.jsxs)("div",{className:`flex items-center space-x-3 mb-4 ${t?"":"justify-center"}`,children:[(0,s.jsxs)(u.qE,{className:"h-10 w-10",children:[s.jsx(u.F$,{src:e?.user_metadata?.avatar_url}),s.jsx(u.Q5,{children:e?.email?.charAt(0).toUpperCase()||"U"})]}),t&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e?.user_metadata?.full_name||e?.email}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[e?.user_metadata?.credits||0," credits"]})]})]}),(0,s.jsxs)("div",{className:`space-y-2 w-full ${t?"":"flex flex-col items-center"}`,children:[s.jsx(c.z,{variant:"ghost",size:"sm",className:`w-full justify-start ${t?"":"px-2"}`,asChild:!0,children:(0,s.jsxs)(d(),{href:"/dashboard/notifications",children:[s.jsx(g.Z,{className:"mr-2 h-4 w-4"}),t&&"Notifications"]})}),(0,s.jsxs)(c.z,{variant:"ghost",size:"sm",className:`w-full justify-start text-destructive hover:text-destructive ${t?"":"px-2"}`,onClick:x,children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"}),t&&"Sign Out"]})]})]})]})]})]})};function N({children:e}){let{user:t,loading:r}=(0,n.a)(),i=(0,l.useRouter)(),d=(0,l.usePathname)();return((0,a.useEffect)(()=>{r||t||i.replace("/auth/login")},[t,r,i]),r)?s.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 border-b-2 border-purple-600"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):t?(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx(w,{user:t}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:`${"/dashboard/settings"===d?"p-0":"p-6"}`,children:e})})]}):null}},11273:(e,t,r)=>{"use strict";r.d(t,{qE:()=>b,Q5:()=>S,F$:()=>k});var s=r(53854),a=r(34218),l=r(65864),n=r(64928),i=r(76223),d=r(59280),o=r(41913);function c(){return()=>{}}var u="Avatar",[m,f]=(0,l.b)(u),[h,x]=m(u),p=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...l}=e,[n,i]=a.useState("idle");return(0,s.jsx)(h,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,s.jsx)(d.WV.span,{...l,ref:t})})});p.displayName=u;var v="AvatarImage",g=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:l,onLoadingStatusChange:u=()=>{},...m}=e,f=x(v,r),h=function(e,{referrerPolicy:t,crossOrigin:r}){let s=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),l=a.useRef(null),n=s?(l.current||(l.current=new window.Image),l.current):null,[d,u]=a.useState(()=>w(n,e));return(0,i.b)(()=>{u(w(n,e))},[n,e]),(0,i.b)(()=>{let e=e=>()=>{u(e)};if(!n)return;let s=e("loaded"),a=e("error");return n.addEventListener("load",s),n.addEventListener("error",a),t&&(n.referrerPolicy=t),"string"==typeof r&&(n.crossOrigin=r),()=>{n.removeEventListener("load",s),n.removeEventListener("error",a)}},[n,r,t]),d}(l,m),p=(0,n.W)(e=>{u(e),f.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==h&&p(h)},[h,p]),"loaded"===h?(0,s.jsx)(d.WV.img,{...m,ref:t,src:l}):null});g.displayName=v;var y="AvatarFallback",j=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:l,...n}=e,i=x(y,r),[o,c]=a.useState(void 0===l);return a.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>c(!0),l);return()=>window.clearTimeout(e)}},[l]),o&&"loaded"!==i.imageLoadingStatus?(0,s.jsx)(d.WV.span,{...n,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=y;var N=r(56370);let b=a.forwardRef(({className:e,...t},r)=>s.jsx(p,{ref:r,className:(0,N.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));b.displayName=p.displayName;let k=a.forwardRef(({className:e,...t},r)=>s.jsx(g,{ref:r,className:(0,N.cn)("aspect-square h-full w-full",e),...t}));k.displayName=g.displayName;let S=a.forwardRef(({className:e,...t},r)=>s.jsx(j,{ref:r,className:(0,N.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));S.displayName=j.displayName},31974:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var s=r(70664);let a=s.pm},2882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},89471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},85096:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},49425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},42380:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(34218);"function"==typeof Object.is&&Object.is,s.useState,s.useEffect,s.useLayoutEffect,s.useDebugValue,t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:function(e,t){return t()}},41913:(e,t,r)=>{"use strict";e.exports=r(42380)},15581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var s=r(95153);let a=(0,s.createProxy)(String.raw`/Users/mac-guest1/Downloads/Git/mvp_projects/mvp_1/app/dashboard/layout.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,d=i}};